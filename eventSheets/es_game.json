{
	"name": "es_game",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "es_global"
		},
		{
			"eventType": "comment",
			"text": "Value_global"
		},
		{
			"eventType": "variable",
			"name": "TimeRemaining",
			"type": "number",
			"initialValue": "180",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 314466592130703
		},
		{
			"eventType": "variable",
			"name": "IsTimerRunning",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 450699413644631
		},
		{
			"eventType": "comment",
			"text": "Value_createMap"
		},
		{
			"eventType": "variable",
			"name": "CurrentLevel",
			"type": "string",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 976100879981987
		},
		{
			"eventType": "variable",
			"name": "TileSize",
			"type": "string",
			"initialValue": "32",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 195357417339530
		},
		{
			"eventType": "variable",
			"name": "GridW",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 146632440649131
		},
		{
			"eventType": "variable",
			"name": "GridH",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 544975547109121
		},
		{
			"eventType": "variable",
			"name": "ArrowIndex",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 851672679628418
		},
		{
			"eventType": "variable",
			"name": "ArrowColor",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 685329497593142
		},
		{
			"eventType": "variable",
			"name": "NodeX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 462040779830631
		},
		{
			"eventType": "variable",
			"name": "NodeY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 739137846003960
		},
		{
			"eventType": "variable",
			"name": "Spacing",
			"type": "number",
			"initialValue": "15",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 769772685677035
		},
		{
			"eventType": "variable",
			"name": "OffsetX",
			"type": "number",
			"initialValue": "35",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 663684395076395
		},
		{
			"eventType": "variable",
			"name": "OffsetY",
			"type": "number",
			"initialValue": "-10",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 919859903970598
		},
		{
			"eventType": "variable",
			"name": "tailUID",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 283895727728582
		},
		{
			"eventType": "comment",
			"text": "Value_eventTouch"
		},
		{
			"eventType": "variable",
			"name": "EscapeSpeed",
			"type": "number",
			"initialValue": "5",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 385885328052419
		},
		{
			"eventType": "variable",
			"name": "MoveSpeed",
			"type": "number",
			"initialValue": "0.3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 701063491644107
		},
		{
			"eventType": "variable",
			"name": "targetX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 247212476397903
		},
		{
			"eventType": "variable",
			"name": "targetY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 261300706731908
		},
		{
			"eventType": "variable",
			"name": "nextTargetX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 822197696691645
		},
		{
			"eventType": "variable",
			"name": "nextTargetY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 438166542231860
		},
		{
			"eventType": "variable",
			"name": "EscapeDuration",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 190656544737886
		},
		{
			"eventType": "comment",
			"text": "Value_eventScore"
		},
		{
			"eventType": "variable",
			"name": "totalSnakes",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 343390468667769
		},
		{
			"eventType": "variable",
			"name": "completedSnakes",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 224546069242274
		},
		{
			"eventType": "variable",
			"name": "RewardDone",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 674097357650379
		},
		{
			"eventType": "comment",
			"text": "Value_event_Lose_Heart"
		},
		{
			"eventType": "variable",
			"name": "Lives",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 446918629123048
		},
		{
			"functionName": "start_layout",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 676433732713456,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-opacity",
							"objectClass": "UI_redaura",
							"sid": 963415794366902,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Grid_Dot",
							"sid": 776784593558525,
							"parameters": {
								"instance-variable": "PathOrder",
								"value": "-1"
							}
						},
						{
							"id": "set-text",
							"objectClass": "text_level",
							"sid": 423056786673270,
							"parameters": {
								"text": "\"Level  \" & CurrentLevel"
							}
						},
						{
							"id": "set-text",
							"objectClass": "text_level_complete",
							"sid": 863234938864178,
							"parameters": {
								"text": "\"Level \" & CurrentLevel & \" Complete!\""
							}
						},
						{
							"id": "set-active",
							"objectClass": "UI_txt_endgame",
							"sid": 302328400100526,
							"behaviorType": "Sine",
							"parameters": {
								"state": "inactive"
							}
						},
						{
							"id": "set-active",
							"objectClass": "UI_btn_nextLevel",
							"sid": 511138942491756,
							"behaviorType": "Sine",
							"parameters": {
								"state": "inactive"
							}
						},
						{
							"id": "destroy",
							"objectClass": "confetti",
							"sid": 258079188666520
						},
						{
							"id": "set-enabled",
							"objectClass": "UI_coin_reward",
							"sid": 526790934502681,
							"behaviorType": "Tween",
							"parameters": {
								"mode": "disabled"
							}
						}
					],
					"sid": 903865123258397
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 928078007762228
				}
			],
			"actions": [
				{
					"callFunction": "start_layout",
					"sid": 921749450845764
				}
			],
			"sid": 331272569351440
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "GamePlay",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "Event_CreateMap",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 598187291300820
								}
							],
							"actions": [
								{
									"id": "parse",
									"objectClass": "JsonLevel",
									"sid": 124700179948049,
									"parameters": {
										"data": "Dic_Level.Get(CurrentLevel)\r\n"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 674020963183056,
									"parameters": {
										"variable": "completedSnakes",
										"value": "0"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 193132991246609,
									"parameters": {
										"variable": "GridW",
										"value": "JsonLevel.Get(\"size.x\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 278657680447244,
									"parameters": {
										"variable": "GridH",
										"value": "JsonLevel.Get(\"size.y\")"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 801384273160815,
									"parameters": {
										"seconds": "0",
										"use-timescale": true
									}
								},
								{
									"callFunction": "CreateMap",
									"sid": 504586293925285
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 530537943159274
								},
								{
									"callFunction": "UpdateGridDot",
									"sid": 870595647738692
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 954723006527248,
									"parameters": {
										"variable": "totalSnakes",
										"value": "snake_head.Count"
									}
								},
								{
									"id": "set-text",
									"objectClass": "text_count_snake",
									"sid": 517701128728663,
									"parameters": {
										"text": "completedSnakes & \"/\" & totalSnakes"
									}
								}
							],
							"sid": 844376283277351,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 620372455271065,
											"parameters": {
												"object": "HUD_heart"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "HUD_heart",
											"sid": 193979511936386,
											"parameters": {
												"instance-variable": "Index",
												"value": "loopindex +1"
											}
										}
									],
									"sid": 702205235384187
								}
							]
						},
						{
							"functionName": "CreateMap",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 597243716764404,
									"disabled": true,
									"parameters": {
										"type": "log",
										"message": "\"Inside CreateMap - size.x = \" & JsonLevel.Get(\"size.x\")"
									}
								}
							],
							"sid": 735024326757715,
							"children": [
								{
									"eventType": "variable",
									"name": "nodeCount",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 208235264857947
								},
								{
									"eventType": "variable",
									"name": "headX",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 505528050696770
								},
								{
									"eventType": "variable",
									"name": "headY",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 399264627455485
								},
								{
									"eventType": "variable",
									"name": "tailX",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 439842981914561
								},
								{
									"eventType": "variable",
									"name": "tailY",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 716065720324464
								},
								{
									"eventType": "variable",
									"name": "totalNodes",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 804487144440188
								},
								{
									"eventType": "variable",
									"name": "currentX",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 532503268000819
								},
								{
									"eventType": "variable",
									"name": "currentY",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 299128076520369
								},
								{
									"eventType": "variable",
									"name": "pixelX",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 435387482415624
								},
								{
									"eventType": "variable",
									"name": "pixelY",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 197579463360042
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 156161660191792,
											"parameters": {
												"name": "\"x\"",
												"start-index": "0",
												"end-index": "GridW - 1"
											}
										}
									],
									"actions": [],
									"sid": 685127818715030,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 768760377029514,
													"parameters": {
														"name": "\"y\"",
														"start-index": "0",
														"end-index": "GridH - 1"
													}
												}
											],
											"actions": [
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 660153701744488,
													"parameters": {
														"object-to-create": "Grid_Dot",
														"layer": "\"Grid\"",
														"x": "((ViewportLeft(0)+ViewportRight(0))/2 - (GridW*(int(TileSize)+Spacing))/2) + loopindex(\"x\") * (int(TileSize) + Spacing)+ OffsetX\r\n",
														"y": "((ViewportTop(0)+ViewportBottom(0))/2 - (GridH*(int(TileSize)+Spacing))/2) + loopindex(\"y\") * (int(TileSize) + Spacing) + OffsetY\r\n",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 695336743097476,
													"disabled": true,
													"parameters": {
														"type": "log",
														"message": "\"Created Grid_Dot at (\" & loopindex(\"x\") & \",\" & loopindex(\"y\") & \")\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Grid_Dot",
													"sid": 586562390516337,
													"parameters": {
														"instance-variable": "GridX",
														"value": "loopindex(\"x\")"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Grid_Dot",
													"sid": 485893595266674,
													"parameters": {
														"instance-variable": "GridY",
														"value": "loopindex(\"y\")"
													}
												},
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 636720237411281,
													"parameters": {
														"object-to-create": "checkpoint",
														"layer": "\"Grid\"",
														"x": "Grid_Dot.X",
														"y": "Grid_Dot.Y",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "checkpoint",
													"sid": 511166452289752,
													"parameters": {
														"instance-variable": "GridX",
														"value": "loopindex(\"x\")"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "checkpoint",
													"sid": 245248740071024,
													"parameters": {
														"instance-variable": "GridY",
														"value": "loopindex(\"y\")"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 270928109961260,
													"disabled": true,
													"parameters": {
														"type": "log",
														"message": "\"Total Grid_Dot count: \" & Grid_Dot.Count"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 332514946747369,
													"disabled": true,
													"parameters": {
														"type": "log",
														"message": "Grid_dot.CPIndex"
													}
												}
											],
											"sid": 645652544631417
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "JsonLevel",
											"sid": 863199212711516,
											"parameters": {
												"path": "\"arrows\""
											}
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 249784792577650,
											"disabled": true,
											"parameters": {
												"type": "log",
												"message": "\"Total arrows: \" & JsonLevel.ArraySize(\"arrows\")"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 813349250075859,
											"parameters": {
												"variable": "ArrowIndex",
												"value": "JsonLevel.CurrentKey"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 301667405910389,
											"disabled": true,
											"parameters": {
												"type": "log",
												"message": "\"Processing arrow: \" & ArrowIndex"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 920169966834241,
											"parameters": {
												"variable": "ArrowColor",
												"value": "int(JsonLevel.Get(\"arrows.\" & ArrowIndex & \".color\"))"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 666125402601115,
											"parameters": {
												"variable": "nodeCount",
												"value": "0"
											}
										}
									],
									"sid": 559085100554659,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "JsonLevel",
													"sid": 506014198217399,
													"parameters": {
														"path": "\"arrows.\" & ArrowIndex & \".nodes\"\r\n"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 860825482178491,
													"parameters": {
														"variable": "nodeCount",
														"value": "1"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 889765517245336,
													"parameters": {
														"variable": "NodeX",
														"value": "int(JsonLevel.Get(\"arrows.\" & ArrowIndex & \".nodes.\" & JsonLevel.CurrentKey & \".x\"))\n"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 968512139448566,
													"parameters": {
														"variable": "NodeY",
														"value": "int(JsonLevel.Get(\"arrows.\" & ArrowIndex & \".nodes.\" & JsonLevel.CurrentKey & \".y\"))\n"
													}
												}
											],
											"sid": 456664145932564,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 218108862665408,
															"parameters": {
																"first-value": "nodeCount",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 685353993355069,
															"parameters": {
																"object-to-create": "snake_head",
																"layer": "\"Snakes\"",
																"x": "((ViewportLeft(0)+ViewportRight(0))/2 - (GridW*(int(TileSize)+Spacing))/2) + NodeX*(int(TileSize)+Spacing) + OffsetX\r\n",
																"y": "((ViewportTop(0)+ViewportBottom(0))/2 - (GridH*(int(TileSize)+Spacing))/2) + NodeY*(int(TileSize)+Spacing) + OffsetY\n",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 498047763157845,
															"parameters": {
																"instance-variable": "OwnerID",
																"value": "ArrowIndex"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 816609744422289,
															"parameters": {
																"instance-variable": "GridX",
																"value": "NodeX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 226923624623947,
															"parameters": {
																"instance-variable": "GridY",
																"value": "NodeY"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 345569914052089,
															"parameters": {
																"variable": "headX",
																"value": "NodeX"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 126364868048025,
															"parameters": {
																"variable": "headY",
																"value": "NodeY"
															}
														}
													],
													"sid": 581107391516684,
													"children": [
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 287314978935206,
																	"parameters": {
																		"object-to-create": "UI_snake_head",
																		"layer": "\"Snakes\"",
																		"x": "snake_head.X",
																		"y": "snake_head.Y",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 191906626697394,
																	"parameters": {
																		"object-to-create": "UI_snake_eye_white",
																		"layer": "\"Snakes\"",
																		"x": "0",
																		"y": "0",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "UI_snake_eye_white",
																	"sid": 418570960560285,
																	"parameters": {
																		"instance-variable": "OwnerID",
																		"value": "ArrowIndex"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "UI_snake_head",
																	"sid": 718268610228503,
																	"parameters": {
																		"instance-variable": "OwnerID",
																		"value": "ArrowIndex"
																	}
																}
															],
															"sid": 897196808220818
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 318480287322595,
																	"parameters": {
																		"object-to-create": "UI_eye_right",
																		"layer": "\"Snakes\"",
																		"x": "0",
																		"y": "0",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "UI_eye_right",
																	"sid": 120979576972366,
																	"parameters": {
																		"instance-variable": "OwnerID",
																		"value": "ArrowIndex"
																	}
																}
															],
															"sid": 146562456059873
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 642593767964333,
																	"parameters": {
																		"object-to-create": "UI_eye_left",
																		"layer": "\"Snakes\"",
																		"x": "0",
																		"y": "0",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "UI_eye_left",
																	"sid": 895206276512676,
																	"parameters": {
																		"instance-variable": "OwnerID",
																		"value": "ArrowIndex"
																	}
																}
															],
															"sid": 539038591165930
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 823340068123606
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 178471732933503,
															"parameters": {
																"object-to-create": "snake_body",
																"layer": "\"Snakes\"",
																"x": "((ViewportLeft(0)+ViewportRight(0))/2 - (GridW*(int(TileSize)+Spacing))/2) + NodeX*(int(TileSize)+Spacing) + OffsetX\r\n",
																"y": "((ViewportTop(0)+ViewportBottom(0))/2 - (GridH*(int(TileSize)+Spacing))/2) + NodeY*(int(TileSize)+Spacing) + OffsetY\r\n",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 690203580928941,
															"parameters": {
																"instance-variable": "NodeIndex",
																"value": "int(JsonLevel.CurrentKey)"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 603869584146965,
															"parameters": {
																"instance-variable": "OwnerID",
																"value": "ArrowIndex"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 369461754885699,
															"parameters": {
																"instance-variable": "GridX",
																"value": "NodeX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 882776269093166,
															"parameters": {
																"instance-variable": "GridY",
																"value": "NodeY"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 318306825806225,
															"parameters": {
																"instance-variable": "isDiagonalBody",
																"value": "0"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 133961887651909,
															"parameters": {
																"variable": "tailX",
																"value": "NodeX"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 984232787302714,
															"parameters": {
																"variable": "tailY",
																"value": "NodeY"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 132641532067147,
															"parameters": {
																"variable": "tailUID",
																"value": "snake_body.UID"
															}
														}
													],
													"sid": 498098431053511
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 838477513311942,
													"parameters": {
														"first-value": "nodeCount",
														"comparison": 0,
														"second-value": "2"
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 834865383813343,
													"disabled": true,
													"parameters": {
														"first-value": "nodeCount",
														"comparison": 0,
														"second-value": "3"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 379696645837923,
													"parameters": {
														"variable": "totalNodes",
														"value": "max(abs(tailX - headX), abs(tailY - headY)) + 1"
													}
												}
											],
											"sid": 772262805221246,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-by-unique-id",
															"objectClass": "snake_body",
															"sid": 133723952093055,
															"parameters": {
																"unique-id": "tailUID"
															}
														}
													],
													"actions": [
														{
															"id": "destroy",
															"objectClass": "snake_body",
															"sid": 901038144995697
														}
													],
													"sid": 760125385512726
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 844426968900981,
															"parameters": {
																"name": "\"fillIndex\"",
																"start-index": "1",
																"end-index": "totalNodes - 1"
															}
														}
													],
													"actions": [],
													"sid": 555154804618666,
													"children": [
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 457791163525393,
																	"parameters": {
																		"variable": "currentX",
																		"value": " headX + round((tailX - headX) * loopindex(\"fillIndex\") / (totalNodes - 1))"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 874483816260432,
																	"parameters": {
																		"variable": "currentY",
																		"value": " headY + round((tailY - headY) * loopindex(\"fillIndex\") / (totalNodes - 1))"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 659038732925887,
																	"parameters": {
																		"variable": "pixelX",
																		"value": "((ViewportLeft(0)+ViewportRight(0))/2 - (GridW*(int(TileSize)+Spacing))/2) + currentX*(int(TileSize)+Spacing) + OffsetX"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 259687565079655,
																	"parameters": {
																		"variable": "pixelY",
																		"value": "((ViewportTop(0)+ViewportBottom(0))/2 - (GridH*(int(TileSize)+Spacing))/2) + currentY*(int(TileSize)+Spacing) + OffsetY"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 669478186836527,
																	"disabled": true,
																	"parameters": {
																		"type": "log",
																		"message": "\"Creating body at loop \" & loopindex(\"fillIndex\") & \", NodeIndex will be: \" & loopindex(\"fillIndex\")"
																	}
																},
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 199767152404101,
																	"parameters": {
																		"object-to-create": "snake_body",
																		"layer": "\"Snakes\"",
																		"x": "pixelX",
																		"y": "pixelY",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 794690379591742,
																	"parameters": {
																		"instance-variable": "NodeIndex",
																		"value": "loopindex(\"fillIndex\")"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 660748107291354,
																	"parameters": {
																		"instance-variable": "OwnerID",
																		"value": "ArrowIndex"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 420895778365047,
																	"parameters": {
																		"instance-variable": "GridX",
																		"value": "currentX"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 478935888699969,
																	"parameters": {
																		"instance-variable": "GridY",
																		"value": "currentY"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 170887219835214,
																	"parameters": {
																		"instance-variable": "isDiagonalBody",
																		"value": "1"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 199630373888238,
																	"disabled": true,
																	"parameters": {
																		"type": "log",
																		"message": "\"Created body: NodeIndex = \" & snake_body.NodeIndex & \", GridX = \" & snake_body.GridX & \", GridY = \" & snake_body.GridY"
																	}
																}
															],
															"sid": 336489541254162
														}
													]
												}
											],
											"isOrBlock": true
										}
									]
								}
							]
						},
						{
							"functionName": "UpdateGridDot",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 865570678627753,
							"children": [
								{
									"eventType": "variable",
									"name": "tempMatch",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 703820540741760
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 547119400576244,
											"parameters": {
												"object": "Grid_Dot"
											}
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 173585113119499,
											"disabled": true,
											"parameters": {
												"type": "log",
												"message": "\"Checking Grid_Dot (\" & Grid_Dot.GridX & \",\" & Grid_Dot.GridY & \")\""
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 375193448184965,
											"parameters": {
												"variable": "tempMatch",
												"value": "0"
											}
										}
									],
									"sid": 726595916478800,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 479291224284236,
													"parameters": {
														"object": "snake_head"
													}
												}
											],
											"actions": [],
											"sid": 489261619161803,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 441284147013731,
															"parameters": {
																"first-value": "Grid_Dot.GridX ",
																"comparison": 0,
																"second-value": "snake_head.GridX"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 506144000112780,
															"parameters": {
																"first-value": "Grid_Dot.GridY",
																"comparison": 0,
																"second-value": "snake_head.GridY"
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 459125170407656,
															"parameters": {
																"variable": "tempMatch",
																"value": "1"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 496105676939306,
															"disabled": true,
															"parameters": {
																"type": "log",
																"message": "\"MATCH FOUND! tempMatch = 1\""
															}
														}
													],
													"sid": 681341711331969
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 161950515381298,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 579374346193767,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for-each",
															"objectClass": "System",
															"sid": 431185686492121,
															"parameters": {
																"object": "snake_head"
															}
														}
													],
													"actions": [],
													"sid": 522083500548785,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 975537786800067,
																	"parameters": {
																		"first-value": "snake_head.OwnerID",
																		"comparison": 0,
																		"second-value": "snake_body.OwnerID"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 260233862574419,
																	"parameters": {
																		"first-value": "snake_body.isDiagonalBody",
																		"comparison": 0,
																		"second-value": "0"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 269726972891053,
																	"parameters": {
																		"first-value": "Grid_Dot.GridX ",
																		"comparison": 0,
																		"second-value": "snake_body.GridX"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 663371426383963,
																	"parameters": {
																		"first-value": "Grid_Dot.GridY",
																		"comparison": 0,
																		"second-value": "snake_body.GridY"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 608334462265349,
																	"parameters": {
																		"variable": "tempMatch",
																		"value": "1"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 198611362787830,
																	"disabled": true,
																	"parameters": {
																		"type": "log",
																		"message": "\"MATCH FOUND! tempMatch = 1\""
																	}
																}
															],
															"sid": 529343160565711
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 562333123581351,
													"parameters": {
														"first-value": "tempMatch",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "set-visible",
													"objectClass": "Grid_Dot",
													"sid": 912540597959790,
													"parameters": {
														"visibility": "visible"
													}
												}
											],
											"sid": 274632248161084
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 153191801469277
												}
											],
											"actions": [
												{
													"id": "set-visible",
													"objectClass": "Grid_Dot",
													"sid": 643003247896992,
													"parameters": {
														"visibility": "invisible"
													}
												}
											],
											"sid": 383672366308953
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 515554256613654
								}
							],
							"actions": [],
							"sid": 439759081524960,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 841210123964710,
											"parameters": {
												"object": "snake_head"
											}
										}
									],
									"actions": [],
									"sid": 834709853866105,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 574870032182950,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 680988275620514,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 786628625601823,
															"parameters": {
																"first-value": "snake_body.OwnerID",
																"comparison": 0,
																"second-value": "snake_head.OwnerID"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 531956375540531,
															"parameters": {
																"first-value": "snake_body.NodeIndex",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [],
													"sid": 423882284926441,
													"children": [
														{
															"eventType": "comment",
															"text": "Case 1 — Body ở dưới head → head quay lên"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 156361612257533,
																	"parameters": {
																		"first-value": "snake_body.GridY",
																		"comparison": 4,
																		"second-value": "snake_head.GridY"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 330287785351902,
																	"parameters": {
																		"instance-variable": "Dir",
																		"value": "0"
																	}
																},
																{
																	"id": "set-angle",
																	"objectClass": "snake_head",
																	"sid": 535742967036480,
																	"parameters": {
																		"angle": "0"
																	}
																}
															],
															"sid": 902866091174751
														},
														{
															"eventType": "comment",
															"text": "Case 2 — Body ở trái head → head quay phải"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 393420930977549,
																	"parameters": {
																		"first-value": "snake_body.GridX",
																		"comparison": 2,
																		"second-value": "snake_head.GridX "
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 297552566634528,
																	"parameters": {
																		"instance-variable": "Dir",
																		"value": "1"
																	}
																},
																{
																	"id": "set-angle",
																	"objectClass": "snake_head",
																	"sid": 249879358108040,
																	"parameters": {
																		"angle": "90"
																	}
																}
															],
															"sid": 144946342765436
														},
														{
															"eventType": "comment",
															"text": "Case 3 — Body ở trên head → head quay xuống"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 396857794644019,
																	"parameters": {
																		"first-value": "snake_body.GridY",
																		"comparison": 2,
																		"second-value": "snake_head.GridY"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 778716720003806,
																	"parameters": {
																		"instance-variable": "Dir",
																		"value": "2"
																	}
																},
																{
																	"id": "set-angle",
																	"objectClass": "snake_head",
																	"sid": 735654519176976,
																	"parameters": {
																		"angle": "180"
																	}
																}
															],
															"sid": 808084734788332
														},
														{
															"eventType": "comment",
															"text": "Case 4 — Body ở phải head → head quay trái"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 645156438372855,
																	"parameters": {
																		"first-value": "snake_body.GridX",
																		"comparison": 4,
																		"second-value": "snake_head.GridX "
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 400114295455099,
																	"parameters": {
																		"instance-variable": "Dir",
																		"value": "3"
																	}
																},
																{
																	"id": "set-angle",
																	"objectClass": "snake_head",
																	"sid": 626210648748282,
																	"parameters": {
																		"angle": "270"
																	}
																}
															],
															"sid": 422377594176233
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 937269153609586,
																	"parameters": {
																		"first-value": "snake_body.isDiagonalBody",
																		"comparison": 0,
																		"second-value": "1"
																	}
																}
															],
															"actions": [],
															"sid": 235845162185313,
															"children": [
																{
																	"eventType": "comment",
																	"text": "Case 5 — Body ở trái-dưới → Head quay phải-lên (↗)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 354845927924898,
																			"parameters": {
																				"first-value": "snake_body.GridX",
																				"comparison": 2,
																				"second-value": "snake_head.GridX "
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 703196279411731,
																			"parameters": {
																				"first-value": "snake_body.GridY",
																				"comparison": 4,
																				"second-value": "snake_head.GridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 971487100797423,
																			"parameters": {
																				"instance-variable": "Dir",
																				"value": "4"
																			}
																		},
																		{
																			"id": "set-angle",
																			"objectClass": "snake_head",
																			"sid": 186760726173379,
																			"parameters": {
																				"angle": "45"
																			}
																		}
																	],
																	"sid": 690745373025325
																},
																{
																	"eventType": "comment",
																	"text": "Case 6 — Body ở phải-dưới → Head quay trái-lên (↖)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 306192301921495,
																			"parameters": {
																				"first-value": "snake_body.GridX",
																				"comparison": 4,
																				"second-value": "snake_head.GridX "
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 947296953353854,
																			"parameters": {
																				"first-value": "snake_body.GridY",
																				"comparison": 4,
																				"second-value": "snake_head.GridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 983405100835314,
																			"parameters": {
																				"instance-variable": "Dir",
																				"value": "5"
																			}
																		},
																		{
																			"id": "set-angle",
																			"objectClass": "snake_head",
																			"sid": 434505563153100,
																			"parameters": {
																				"angle": "315"
																			}
																		}
																	],
																	"sid": 494932506197038
																},
																{
																	"eventType": "comment",
																	"text": "Case 7 — Body ở trái-trên → Head quay phải-xuống (↘)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 655999203575738,
																			"parameters": {
																				"first-value": "snake_body.GridX",
																				"comparison": 2,
																				"second-value": "snake_head.GridX "
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 342042578010856,
																			"parameters": {
																				"first-value": "snake_body.GridY",
																				"comparison": 2,
																				"second-value": "snake_head.GridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 804281761708722,
																			"parameters": {
																				"instance-variable": "Dir",
																				"value": "6"
																			}
																		},
																		{
																			"id": "set-angle",
																			"objectClass": "snake_head",
																			"sid": 496111801330679,
																			"parameters": {
																				"angle": "135"
																			}
																		}
																	],
																	"sid": 365463867518164
																},
																{
																	"eventType": "comment",
																	"text": "Case 8 — Body ở phải-trên → Head quay trái-xuống (↙)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 234158223192846,
																			"parameters": {
																				"first-value": "snake_body.GridX",
																				"comparison": 4,
																				"second-value": "snake_head.GridX "
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 544291256223241,
																			"parameters": {
																				"first-value": "snake_body.GridY",
																				"comparison": 2,
																				"second-value": "snake_head.GridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 879869524985266,
																			"parameters": {
																				"instance-variable": "Dir",
																				"value": "7"
																			}
																		},
																		{
																			"id": "set-angle",
																			"objectClass": "snake_head",
																			"sid": 687504687254005,
																			"parameters": {
																				"angle": "225"
																			}
																		}
																	],
																	"sid": 467568431191766
																}
															]
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 452368235559492,
													"parameters": {
														"object": "UI_snake_head"
													}
												}
											],
											"actions": [],
											"sid": 192407065993144,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "snake_head",
															"sid": 376772181735504,
															"parameters": {
																"instance-variable": "OwnerID",
																"comparison": 0,
																"value": "UI_snake_head.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "UI_snake_head",
															"sid": 352014526127220,
															"parameters": {
																"x": "snake_head.X",
																"y": "snake_head.Y"
															}
														},
														{
															"id": "set-angle",
															"objectClass": "UI_snake_head",
															"sid": 300590769288951,
															"parameters": {
																"angle": "snake_head.Angle"
															}
														}
													],
													"sid": 974022347575814
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 756095141822309,
													"parameters": {
														"object": "UI_snake_eye_white"
													}
												}
											],
											"actions": [],
											"sid": 346480688984056,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "UI_snake_head",
															"sid": 500758120214149,
															"parameters": {
																"instance-variable": "OwnerID",
																"comparison": 0,
																"value": "UI_snake_eye_white.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "UI_snake_eye_white",
															"sid": 944878648311576,
															"parameters": {
																"x": "UI_snake_head.X",
																"y": "UI_snake_head.Y"
															}
														},
														{
															"id": "set-angle",
															"objectClass": "UI_snake_eye_white",
															"sid": 689822518112907,
															"parameters": {
																"angle": "UI_snake_head.Angle"
															}
														}
													],
													"sid": 607204400139369
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 731579261912952,
													"parameters": {
														"object": "UI_eye_left"
													}
												}
											],
											"actions": [],
											"sid": 861537999335996,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "UI_snake_eye_white",
															"sid": 551573833180831,
															"parameters": {
																"instance-variable": "OwnerID",
																"comparison": 0,
																"value": "UI_eye_left.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "UI_eye_left",
															"sid": 792304874451680,
															"parameters": {
																"x": "UI_snake_eye_white.X - cos(UI_snake_eye_white.Angle) * (UI_snake_eye_white.Width * 0.25)",
																"y": "UI_snake_eye_white.Y - sin(UI_snake_eye_white.Angle) * (UI_snake_eye_white.Width * 0.25)"
															}
														},
														{
															"id": "set-angle",
															"objectClass": "UI_eye_left",
															"sid": 960785373079691,
															"parameters": {
																"angle": "UI_snake_eye_white.Angle"
															}
														}
													],
													"sid": 970847588675615
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 562052881478496,
													"parameters": {
														"object": "UI_eye_right"
													}
												}
											],
											"actions": [],
											"sid": 300612331762624,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "UI_snake_eye_white",
															"sid": 357585133210963,
															"parameters": {
																"instance-variable": "OwnerID",
																"comparison": 0,
																"value": "UI_eye_right.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "UI_eye_right",
															"sid": 811772168260945,
															"parameters": {
																"x": " UI_snake_eye_white.X + cos(UI_snake_eye_white.Angle) * (UI_snake_eye_white.Width * 0.25)",
																"y": " UI_snake_eye_white.Y + sin(UI_snake_eye_white.Angle) * (UI_snake_eye_white.Width * 0.25)"
															}
														},
														{
															"id": "set-angle",
															"objectClass": "UI_eye_right",
															"sid": 213774412058017,
															"parameters": {
																"angle": "UI_snake_eye_white.Angle"
															}
														}
													],
													"sid": 136613123131044
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 186706342486315
								}
							],
							"actions": [],
							"sid": 346724384669376,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 876270381273964,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 326415489529276,
											"parameters": {
												"color": "rgbEx(255, 0, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 290263637236322,
											"parameters": {
												"color": "rgbEx(255, 0, 0)"
											}
										}
									],
									"sid": 375228403130147
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 429392077241355,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 456362779348860,
											"parameters": {
												"color": "rgbEx(0, 255, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 472299623701571,
											"parameters": {
												"color": "rgbEx(0, 255, 0)"
											}
										}
									],
									"sid": 699193744297415
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 542257635471031,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "2"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 991406916322963,
											"parameters": {
												"color": "rgbEx(0, 0, 255)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 179724895047618,
											"parameters": {
												"color": "rgbEx(0, 0, 255)"
											}
										}
									],
									"sid": 981185072619036
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 559289084252010,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 921458604862329,
											"parameters": {
												"color": "rgbEx(255, 255, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 265967793258165,
											"parameters": {
												"color": "rgbEx(255, 255, 0)"
											}
										}
									],
									"sid": 706970491089340
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 267268093510434,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "4"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 673038250375702,
											"parameters": {
												"color": "rgbEx(100, 0, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 887668466876733,
											"parameters": {
												"color": "rgbEx(100, 0, 0)"
											}
										}
									],
									"sid": 325157831576261
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 505221863589370,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 668378022037884,
											"parameters": {
												"color": "rgbEx(0, 100, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 862524512059977,
											"parameters": {
												"color": "rgbEx(0, 100, 0)"
											}
										}
									],
									"sid": 908827581858027
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 292669335703895,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "6"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 314674289615190,
											"parameters": {
												"color": "rgbEx(100, 100, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 558706930912611,
											"parameters": {
												"color": "rgbEx(100, 100, 0)"
											}
										}
									],
									"sid": 655048510077155
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 961357237068214
								}
							],
							"actions": [],
							"sid": 850301026254339,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 372899563370138,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 726655834088299,
											"parameters": {
												"color": "rgbEx(255, 0, 0)"
											}
										}
									],
									"sid": 836477808265115
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 364399597306602,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 692885303863603,
											"parameters": {
												"color": "rgbEx(0, 255, 0)"
											}
										}
									],
									"sid": 189794381017254
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 625920961847864,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "2"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 280990529161985,
											"parameters": {
												"color": "rgbEx(0, 0, 255)"
											}
										}
									],
									"sid": 608610430483672
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 700574442886702,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 939520874354528,
											"parameters": {
												"color": "rgbEx(255, 255, 0)"
											}
										}
									],
									"sid": 215981482607385
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 659718345566035,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "4"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 857772663061293,
											"parameters": {
												"color": "rgbEx(100, 0, 0)"
											}
										}
									],
									"sid": 720442752399541
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 768355538569352,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 893968812335644,
											"parameters": {
												"color": "rgbEx(0, 100, 0)"
											}
										}
									],
									"sid": 688227402029464
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 641870419958635,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "6"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 930635071586308,
											"parameters": {
												"color": "rgbEx(100, 100, 0)"
											}
										}
									],
									"sid": 898334031503246
								}
							]
						}
					],
					"sid": 161037751883584
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Event_Touch",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "bumpDistance",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 207453163115684
						},
						{
							"eventType": "variable",
							"name": "bumpX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 961866271324634
						},
						{
							"eventType": "variable",
							"name": "bumpY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 989790169996010
						},
						{
							"eventType": "variable",
							"name": "activeHeadOwnerID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 997896561260419
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-touched-object",
									"objectClass": "Touch",
									"sid": 651700221118270,
									"parameters": {
										"object": "snake_head",
										"type": "start"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 576468562401297,
									"parameters": {
										"variable": "IsTimerRunning",
										"value": "1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "snake_head",
									"sid": 655448696413758,
									"parameters": {
										"instance-variable": "isActive",
										"value": "1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "snake_head",
									"sid": 117964592928034,
									"parameters": {
										"instance-variable": "HasBlocker",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "snake_head",
									"sid": 139203411250232,
									"parameters": {
										"instance-variable": "HasCheckpoint",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "snake_head",
									"sid": 523712106578087,
									"parameters": {
										"instance-variable": "CaseType",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "snake_head",
									"sid": 658324808779300,
									"parameters": {
										"instance-variable": "isEscaping",
										"value": "0"
									}
								}
							],
							"sid": 171738422951573,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 486588674303575,
											"parameters": {
												"instance-variable": "NextGridX",
												"value": "snake_head.GridX"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 826568202462704,
											"parameters": {
												"instance-variable": "NextGridY",
												"value": "snake_head.GridY"
											}
										}
									],
									"sid": 579550352571048,
									"children": [
										{
											"eventType": "comment",
											"text": "Case 1 — Body ở dưới head → head quay lên"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 688066658851590,
													"parameters": {
														"first-value": "snake_head.Dir",
														"comparison": 0,
														"second-value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 802051480054568,
													"parameters": {
														"instance-variable": "NextGridY",
														"value": "snake_head.NextGridY - 1"
													}
												}
											],
											"sid": 391450601415867
										},
										{
											"eventType": "comment",
											"text": "Case 2 — Body ở trái head → head quay phải"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 508284202740271,
													"parameters": {
														"first-value": "snake_head.Dir",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 454764467193855,
													"parameters": {
														"instance-variable": "NextGridX",
														"value": "snake_head.NextGridX + 1"
													}
												}
											],
											"sid": 579245725248215
										},
										{
											"eventType": "comment",
											"text": "Case 3 — Body ở trên head → head quay xuống"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 302615614883703,
													"parameters": {
														"first-value": "snake_head.Dir",
														"comparison": 0,
														"second-value": "2"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 982784280210104,
													"parameters": {
														"instance-variable": "NextGridY",
														"value": "snake_head.NextGridY + 1"
													}
												}
											],
											"sid": 229477939523082
										},
										{
											"eventType": "comment",
											"text": "Case 4 — Body ở phải head → head quay trái"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 237674990945608,
													"parameters": {
														"first-value": "snake_head.Dir",
														"comparison": 0,
														"second-value": "3"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 222763649431783,
													"parameters": {
														"instance-variable": "NextGridX",
														"value": "snake_head.NextGridX - 1"
													}
												}
											],
											"sid": 764430371074202
										},
										{
											"eventType": "comment",
											"text": "Case 5 — Body ở trái-dưới → Head quay phải-lên (↗)"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 281616648770255,
													"parameters": {
														"first-value": "snake_head.Dir",
														"comparison": 0,
														"second-value": "4"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 552733976817347,
													"parameters": {
														"instance-variable": "NextGridX",
														"value": "snake_head.NextGridX + 1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 775741927098291,
													"parameters": {
														"instance-variable": "NextGridY",
														"value": "snake_head.NextGridY - 1"
													}
												}
											],
											"sid": 105553772338569
										},
										{
											"eventType": "comment",
											"text": "Case 6 — Body ở phải-dưới → Head quay trái-lên (↖)"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 317740234181544,
													"parameters": {
														"first-value": "snake_head.Dir",
														"comparison": 0,
														"second-value": "5"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 812366274749244,
													"parameters": {
														"instance-variable": "NextGridX",
														"value": "snake_head.NextGridX - 1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 796994726411485,
													"parameters": {
														"instance-variable": "NextGridY",
														"value": "snake_head.NextGridY - 1"
													}
												}
											],
											"sid": 931406003440814
										},
										{
											"eventType": "comment",
											"text": "Case 7 — Body ở trái-trên → Head quay phải-xuống (↘)"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 289577919646498,
													"parameters": {
														"first-value": "snake_head.Dir",
														"comparison": 0,
														"second-value": "6"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 126708998787248,
													"parameters": {
														"instance-variable": "NextGridX",
														"value": "snake_head.NextGridX + 1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 601978483735702,
													"parameters": {
														"instance-variable": "NextGridY",
														"value": "snake_head.NextGridY + 1"
													}
												}
											],
											"sid": 476848385401529
										},
										{
											"eventType": "comment",
											"text": "Case 8 — Body ở phải-trên → Head quay trái-xuống (↙)"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 168327258928628,
													"parameters": {
														"first-value": "snake_head.Dir",
														"comparison": 0,
														"second-value": "7"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 850880527709099,
													"parameters": {
														"instance-variable": "NextGridX",
														"value": "snake_head.NextGridX - 1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 246571233644789,
													"parameters": {
														"instance-variable": "NextGridY",
														"value": "snake_head.NextGridY + 1"
													}
												}
											],
											"sid": 157691057060203
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 953159098224709,
													"parameters": {
														"first-value": "snake_head.NextGridX",
														"comparison": 2,
														"second-value": "0"
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 801135959287434,
													"parameters": {
														"first-value": "snake_head.NextGridX",
														"comparison": 5,
														"second-value": "GridW"
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 322293058062016,
													"parameters": {
														"first-value": "snake_head.NextGridY",
														"comparison": 2,
														"second-value": "0"
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 852779527811734,
													"parameters": {
														"first-value": "snake_head.NextGridY",
														"comparison": 5,
														"second-value": "GridH"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 709094015863501,
													"parameters": {
														"instance-variable": "CaseType",
														"value": "1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 270620326958554,
													"parameters": {
														"instance-variable": "isEscaping",
														"value": "1"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 452130593253041,
													"parameters": {
														"type": "log",
														"message": "\"TH1: ESCAPE! Head ra khỏi grid\""
													}
												}
											],
											"sid": 239383562894423,
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 618367702823542,
													"parameters": {
														"first-value": "snake_head.CaseType",
														"comparison": 0,
														"second-value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 581654543114436,
													"parameters": {
														"variable": "activeHeadOwnerID",
														"value": "snake_head.OwnerID"
													}
												}
											],
											"sid": 407503693090858,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for-each",
															"objectClass": "System",
															"sid": 216110194040037,
															"parameters": {
																"object": "snake_head"
															}
														}
													],
													"actions": [],
													"sid": 522099014679812,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 217180973049163,
																	"parameters": {
																		"first-value": "snake_head.OwnerID",
																		"comparison": 1,
																		"second-value": "activeHeadOwnerID"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 240354898409685,
																	"parameters": {
																		"first-value": "snake_head.isActive",
																		"comparison": 0,
																		"second-value": "0"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 193991956636840,
																	"parameters": {
																		"first-value": "snake_head.GridX",
																		"comparison": 0,
																		"second-value": "snake_head.NextGridX"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 206149245864308,
																	"parameters": {
																		"first-value": "snake_head.GridY",
																		"comparison": 0,
																		"second-value": "snake_head.NextGridY"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 558794331572512,
																	"parameters": {
																		"instance-variable": "HasBlocker",
																		"value": "1"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 394475351522043,
																	"parameters": {
																		"instance-variable": "CaseType",
																		"value": "2"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 507838892321369,
																	"parameters": {
																		"type": "log",
																		"message": "\"TH2: BLOCKED by other head!\"\n"
																	}
																}
															],
															"sid": 153106001721421
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for-each",
															"objectClass": "System",
															"sid": 806678111864692,
															"parameters": {
																"object": "snake_body"
															}
														}
													],
													"actions": [],
													"sid": 330633479085185,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 443869717780041,
																	"parameters": {
																		"first-value": "snake_body.OwnerID",
																		"comparison": 1,
																		"second-value": "snake_head.OwnerID"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 254763247040429,
																	"parameters": {
																		"first-value": "snake_body.GridX",
																		"comparison": 0,
																		"second-value": "snake_head.NextGridX"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 448959724106129,
																	"parameters": {
																		"first-value": "snake_body.GridY",
																		"comparison": 0,
																		"second-value": "snake_head.NextGridY"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 544954321598202,
																	"parameters": {
																		"instance-variable": "HasBlocker",
																		"value": "1"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 782851330597804,
																	"parameters": {
																		"instance-variable": "CaseType",
																		"value": "2"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 663020896341905,
																	"parameters": {
																		"type": "log",
																		"message": "\"TH2: BLOCKED by other body!\"\n"
																	}
																}
															],
															"sid": 543211754315997
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for-each",
															"objectClass": "System",
															"sid": 194115819736378,
															"parameters": {
																"object": "checkpoint"
															}
														}
													],
													"actions": [],
													"sid": 136203119125504,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 846472710215201,
																	"parameters": {
																		"first-value": "checkpoint.GridX",
																		"comparison": 0,
																		"second-value": "snake_head.NextGridX "
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 624305317052400,
																	"parameters": {
																		"first-value": "checkpoint.GridY",
																		"comparison": 0,
																		"second-value": "snake_head.NextGridY"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 351452091404964,
																	"parameters": {
																		"instance-variable": "HasCheckpoint",
																		"value": "1"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 914903704363317,
																	"parameters": {
																		"instance-variable": "CaseType",
																		"value": "3"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "checkpoint",
																	"sid": 245692092153405,
																	"parameters": {
																		"instance-variable": "isTarget",
																		"value": "1"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 541180931446672,
																	"parameters": {
																		"type": "log",
																		"message": "\"TH3: MOVE to checkpoint!\""
																	}
																}
															],
															"sid": 767868556066250
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 485518969737799,
													"parameters": {
														"first-value": "snake_head.CaseType",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [
												{
													"callFunction": "TH1: SnakeEscapeEdge",
													"sid": 110242159198845
												}
											],
											"sid": 451401018312442
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 962945569063017,
													"parameters": {
														"first-value": "snake_head.HasCheckpoint",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [
												{
													"callFunction": "TH3: MoveToCheckpoint",
													"sid": 944254568413413
												}
											],
											"sid": 776795179468248
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "TH1: Head on edge grid"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "snake_body",
									"sid": 421554011787963,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"move\""
									}
								}
							],
							"actions": [
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 371252037179521,
									"parameters": {
										"type": "log",
										"message": "\"Body \" & snake_body.NodeIndex & \" arrived\""
									}
								}
							],
							"sid": 495843559764116,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-nearestfurthest",
											"objectClass": "checkpoint",
											"sid": 518724323288842,
											"parameters": {
												"which": "nearest",
												"x": "snake_body.X",
												"y": "snake_body.Y"
											}
										}
									],
									"actions": [],
									"sid": 697530790357500,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_body",
													"sid": 480553834474948,
													"parameters": {
														"instance-variable": "GridX",
														"value": "checkpoint.GridX"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_body",
													"sid": 869438051375327,
													"parameters": {
														"instance-variable": "GridY",
														"value": "checkpoint.GridY"
													}
												},
												{
													"id": "add-key",
													"objectClass": "Dic_BodyPrevPos",
													"sid": 217488235192001,
													"parameters": {
														"key": "str(snake_body.NodeIndex) & \"_X\"",
														"value": "checkpoint.GridX"
													}
												},
												{
													"id": "add-key",
													"objectClass": "Dic_BodyPrevPos",
													"sid": 290601562500676,
													"parameters": {
														"key": "str(snake_body.NodeIndex) & \"_Y\"",
														"value": "checkpoint.GridY"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 186251580516911,
													"parameters": {
														"type": "log",
														"message": "\"Body \" & snake_body.NodeIndex & \" updated position to (\" & checkpoint.GridX & \",\" & checkpoint.GridY & \") and SAVED to Dictionary\""
													}
												}
											],
											"sid": 453601182130874
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 184645487852034,
											"parameters": {
												"object": "snake_head"
											}
										}
									],
									"actions": [],
									"sid": 722760976600928,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 248128652454296,
													"parameters": {
														"first-value": "snake_head.OwnerID",
														"comparison": 0,
														"second-value": "snake_body.OwnerID"
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 247512605785355,
													"parameters": {
														"first-value": "snake_head.isEscaping",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [],
											"sid": 382633503224966,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 106046920660559,
															"parameters": {
																"first-value": "snake_body.GridX",
																"comparison": 0,
																"second-value": "snake_head.PrevGridX"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 370570940986071,
															"parameters": {
																"first-value": "snake_body.GridY",
																"comparison": 0,
																"second-value": "snake_head.PrevGridY"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 575438769347161,
															"parameters": {
																"instance-variable": "isEscaping",
																"value": "1"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 818424205312411,
															"parameters": {
																"variable": "EscapeDuration",
																"value": "10 - (snake_body.NodeIndex * 0.8)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 145902583550628,
															"parameters": {
																"variable": "EscapeDuration",
																"value": "max(EscapeDuration, 9.4)"
															}
														},
														{
															"id": "tween-two-properties",
															"objectClass": "snake_body",
															"sid": 416790982516797,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"body_escape\"",
																"property": "position",
																"end-x": "snake_body.X + cos(snake_head.Angle - 90) * 2000",
																"end-y": "snake_body.Y + sin(snake_head.Angle - 90) * 2000",
																"time": "EscapeDuration",
																"ease": "noease",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 127011437047491,
															"parameters": {
																"type": "log",
																"message": "\"Body \" & snake_body.NodeIndex & \" ESCAPING!\""
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 473921706274905,
															"parameters": {
																"seconds": "(snake_body.NodeIndex - 1) * 0.25",
																"use-timescale": true
															}
														}
													],
													"sid": 541691121693362
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 819446329545602
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 355962640900354,
															"parameters": {
																"variable": "nextTargetX",
																"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_X\"))"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 674664969223581,
															"parameters": {
																"variable": "nextTargetY",
																"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_Y\"))"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 102787380501307,
															"parameters": {
																"type": "log",
																"message": "\"Body \" & snake_body.NodeIndex & \" will continue to (\" & nextTargetX & \",\" & nextTargetY & \")\""
															}
														}
													],
													"sid": 974335725144199,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 857183785689198,
																	"parameters": {
																		"object": "checkpoint"
																	}
																}
															],
															"actions": [],
															"sid": 770770296678686,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 544060423518321,
																			"parameters": {
																				"first-value": "checkpoint.GridX",
																				"comparison": 0,
																				"second-value": "nextTargetX"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 960482024541397,
																			"parameters": {
																				"first-value": "checkpoint.GridY",
																				"comparison": 0,
																				"second-value": "nextTargetY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "tween-two-properties",
																			"objectClass": "snake_body",
																			"sid": 401209503826568,
																			"behaviorType": "Tween",
																			"parameters": {
																				"tags": "\"move\"",
																				"property": "position",
																				"end-x": "checkpoint.X",
																				"end-y": "checkpoint.Y",
																				"time": "0.25",
																				"ease": "noease",
																				"destroy-on-complete": "no",
																				"loop": "no",
																				"ping-pong": "no",
																				"repeat-count": "1"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 995890662549449,
																			"parameters": {
																				"type": "log",
																				"message": "\"Body \" & snake_body.NodeIndex & \" CONTINUING to (\" & checkpoint.GridX & \",\" & checkpoint.GridY & \")\""
																			}
																		}
																	],
																	"sid": 398826732568058
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "comment",
							"text": "TH2: Head blocked by other head or body"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "snake_head",
									"sid": 753095506827644,
									"parameters": {
										"object": "snake_body"
									}
								}
							],
							"actions": [],
							"sid": 208827615624748,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 464832454782369,
											"parameters": {
												"first-value": "snake_head.OwnerID",
												"comparison": 1,
												"second-value": "snake_body.OwnerID"
											}
										},
										{
											"id": "is-playing",
											"objectClass": "snake_head",
											"sid": 475106051645212,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"head_move_checkpoint\""
											}
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 527167710095785,
											"parameters": {
												"type": "log",
												"message": " \"COLLISION DETECTED! Stopping movement...\""
											}
										},
										{
											"callFunction": "TH2: SnakeBlocked",
											"sid": 963646679400723
										},
										{
											"callFunction": "LoseLife",
											"sid": 635568933606261
										}
									],
									"sid": 920529071057280
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "snake_head",
									"sid": 624034286328333,
									"parameters": {
										"object": "snake_head"
									}
								}
							],
							"actions": [],
							"sid": 146900339940504,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 823799806423206,
											"parameters": {
												"first-value": "snake_head.OwnerID",
												"comparison": 0,
												"second-value": "snake_head.OwnerID"
											}
										},
										{
											"id": "is-playing",
											"objectClass": "snake_head",
											"sid": 705764981765819,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"head_move_checkpoint\""
											}
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 335602521517078,
											"parameters": {
												"type": "log",
												"message": " \"COLLISION DETECTED! Stopping movement...\""
											}
										},
										{
											"callFunction": "TH2: SnakeBlocked",
											"sid": 375384306893826
										},
										{
											"callFunction": "LoseLife",
											"sid": 316346046944041
										}
									],
									"sid": 934592732745041
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "snake_head",
									"sid": 192431365682742,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"collision_pullback\""
									}
								}
							],
							"actions": [],
							"sid": 224431212696160,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 115906268721873,
											"parameters": {
												"instance-variable": "isActive",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 459563118751965,
											"parameters": {
												"instance-variable": "CaseType",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 863412666770741,
											"parameters": {
												"instance-variable": "HasCheckpoint",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 937042846890114,
											"parameters": {
												"instance-variable": "GridX",
												"value": "snake_head.PrevGridX"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 372447121648904,
											"parameters": {
												"instance-variable": "GridY",
												"value": "snake_head.PrevGridY"
											}
										},
										{
											"id": "set-position",
											"objectClass": "snake_head",
											"sid": 947520525684474,
											"parameters": {
												"x": "snake_head.PrevX",
												"y": "snake_head.PrevY"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 232486560979273,
											"parameters": {
												"type": "log",
												"message": "\"Collision pullback complete. Stopped.\""
											}
										}
									],
									"sid": 733452449169794,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 931207732548725,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 815175735758045,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 485912436279950,
															"parameters": {
																"first-value": "snake_body.OwnerID",
																"comparison": 0,
																"second-value": "snake_head.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "stop-tweens",
															"objectClass": "snake_body",
															"sid": 937439287229862,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"body_move_checkpoint\""
															}
														},
														{
															"id": "tween-two-properties",
															"objectClass": "snake_body",
															"sid": 277700903478174,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"collision_pullback\"",
																"property": "position",
																"end-x": "snake_body.PrevX",
																"end-y": "snake_body.PrevY",
																"time": "0.2",
																"ease": "noease",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 874940426128274,
															"parameters": {
																"type": "log",
																"message": "\"Body \" & snake_body.NodeIndex & \" pulling back to (\" &  snake_body.PrevX & \",\" & snake_body.PrevY & \")\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 458680389899540,
															"parameters": {
																"instance-variable": "GridX",
																"value": "snake_body.PrevGridX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 607475725817805,
															"parameters": {
																"instance-variable": "GridY",
																"value": "snake_body.PrevGridY"
															}
														}
													],
													"sid": 604247939325562
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "comment",
							"text": "TH3: Head is not blocked and will move to the edge of grid or blocked by other head or body"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "snake_head",
									"sid": 481845370520719,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"head_move_checkpoint\""
									}
								}
							],
							"actions": [],
							"sid": 956914607063016,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-position",
											"objectClass": "snake_head",
											"sid": 342045620219649,
											"parameters": {
												"x": "round(snake_head.X)",
												"y": "round(snake_head.Y)"
											}
										},
										{
											"id": "add-key",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 839921372328046,
											"parameters": {
												"key": "\"0_X\"",
												"value": "snake_head.GridX"
											}
										},
										{
											"id": "add-key",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 874652047685358,
											"parameters": {
												"key": "\"0_Y\"",
												"value": "snake_head.GridY"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 960215156881540,
											"parameters": {
												"type": "log",
												"message": "\"HEAD arrived at checkpoint (\" & snake_head.GridX & \",\" & snake_head.GridY & \")\""
											}
										}
									],
									"sid": 825690683622043,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 553321713655236,
													"parameters": {
														"instance-variable": "NextGridX",
														"value": "snake_head.GridX"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 570543233008960,
													"parameters": {
														"instance-variable": "NextGridY",
														"value": "snake_head.GridY"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 389190973789764,
													"parameters": {
														"instance-variable": "CaseType",
														"value": "0"
													}
												}
											],
											"sid": 890695966470911,
											"children": [
												{
													"eventType": "comment",
													"text": "Case 1 — Body ở dưới head → head quay lên"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 594212110177072,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "0"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 409121408195731,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY - 1"
															}
														}
													],
													"sid": 218692960496835
												},
												{
													"eventType": "comment",
													"text": "Case 2 — Body ở trái head → head quay phải"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 952240685845242,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 970747893386065,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX + 1"
															}
														}
													],
													"sid": 116769543582899
												},
												{
													"eventType": "comment",
													"text": "Case 3 — Body ở trên head → head quay xuống"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 139580526484245,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "2"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 977505832964583,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY + 1"
															}
														}
													],
													"sid": 211269581380993
												},
												{
													"eventType": "comment",
													"text": "Case 4 — Body ở phải head → head quay trái"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 608852240155875,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "3"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 674710953915715,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX - 1"
															}
														}
													],
													"sid": 941082633500960
												},
												{
													"eventType": "comment",
													"text": "Case 5 — Body ở trái-dưới → Head quay phải-lên (↗)"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 629846295659915,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "4"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 239241396648702,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX + 1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 429419096575455,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY - 1"
															}
														}
													],
													"sid": 897092826305870
												},
												{
													"eventType": "comment",
													"text": "Case 6 — Body ở phải-dưới → Head quay trái-lên (↖)"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 368774706226586,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "5"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 993389125158924,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX - 1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 789907192943479,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY - 1"
															}
														}
													],
													"sid": 618136343112136
												},
												{
													"eventType": "comment",
													"text": "Case 7 — Body ở trái-trên → Head quay phải-xuống (↘)"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 317608001723760,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "6"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 162727551757831,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX + 1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 603980864886082,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY + 1"
															}
														}
													],
													"sid": 357580929155257
												},
												{
													"eventType": "comment",
													"text": "Case 8 — Body ở phải-trên → Head quay trái-xuống (↙)"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 102049660618413,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "7"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 786928635546851,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX - 1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 771105051121644,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY + 1"
															}
														}
													],
													"sid": 453736661056219
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 348580783282923,
															"parameters": {
																"first-value": "snake_head.NextGridX",
																"comparison": 2,
																"second-value": "0"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 449237049403842,
															"parameters": {
																"first-value": "snake_head.NextGridX",
																"comparison": 5,
																"second-value": "GridW"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 664028894798793,
															"parameters": {
																"first-value": "snake_head.NextGridY",
																"comparison": 2,
																"second-value": "0"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 235530818723822,
															"parameters": {
																"first-value": "snake_head.NextGridY",
																"comparison": 5,
																"second-value": "GridH"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 256237228068859,
															"parameters": {
																"instance-variable": "CaseType",
																"value": "1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 983177702934361,
															"parameters": {
																"instance-variable": "isEscaping",
																"value": "1"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 467150859136041,
															"parameters": {
																"type": "log",
																"message": "\"HEAD reached edge → Will ESCAPE!\""
															}
														}
													],
													"sid": 862237488137952,
													"isOrBlock": true
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 851598463504795,
															"parameters": {
																"first-value": "snake_head.CaseType",
																"comparison": 0,
																"second-value": "0"
															}
														}
													],
													"actions": [],
													"sid": 725584438276881,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 645141201936302,
																	"parameters": {
																		"object": "snake_head"
																	}
																}
															],
															"actions": [],
															"sid": 332833189147136,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 671565257062384,
																			"parameters": {
																				"first-value": "snake_head.OwnerID",
																				"comparison": 1,
																				"second-value": "activeHeadOwnerID"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 114933084274524,
																			"parameters": {
																				"first-value": "snake_head.isActive",
																				"comparison": 0,
																				"second-value": "0"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 892669707325327,
																			"parameters": {
																				"first-value": "snake_head.GridX",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridX"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 825336407072502,
																			"parameters": {
																				"first-value": "snake_head.GridY",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 897078982499852,
																			"parameters": {
																				"instance-variable": "HasBlocker",
																				"value": "1"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 102447781870880,
																			"parameters": {
																				"instance-variable": "CaseType",
																				"value": "2"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 979992404993435,
																			"parameters": {
																				"type": "log",
																				"message": "\"TH2: BLOCKED by other head!\"\n"
																			}
																		}
																	],
																	"sid": 492217834191388
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 615388146128830,
																	"parameters": {
																		"object": "snake_body"
																	}
																}
															],
															"actions": [],
															"sid": 443350757590974,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 918681430814150,
																			"parameters": {
																				"first-value": "snake_body.GridX",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridX"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 108347306085741,
																			"parameters": {
																				"first-value": "snake_body.GridY",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridY"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 428076418891127,
																			"parameters": {
																				"first-value": "snake_body.OwnerID",
																				"comparison": 1,
																				"second-value": "snake_head.OwnerID"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 151249333800356,
																			"parameters": {
																				"instance-variable": "CaseType",
																				"value": "2"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 924696020230933,
																			"parameters": {
																				"type": "log",
																				"message": "\"BLOCKED by body!\""
																			}
																		}
																	],
																	"sid": 483534047845952
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 974905747592243,
																	"parameters": {
																		"object": "checkpoint"
																	}
																}
															],
															"actions": [],
															"sid": 933194559634018,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 969986870774850,
																			"parameters": {
																				"first-value": "checkpoint.GridX",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridX"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 923682272919280,
																			"parameters": {
																				"first-value": "checkpoint.GridY",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 440809871895451,
																			"parameters": {
																				"instance-variable": "CaseType",
																				"value": "3"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 106543337132399,
																			"parameters": {
																				"instance-variable": "HasCheckpoint",
																				"value": "1"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 766686434467394,
																			"parameters": {
																				"type": "log",
																				"message": "\"Checkpoint ahead → CONTINUE!\""
																			}
																		}
																	],
																	"sid": 478665225251811
																}
															]
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 575971989452824,
															"parameters": {
																"first-value": "snake_head.CaseType",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 535016592059245,
															"parameters": {
																"type": "log",
																"message": "\"Triggering ESCAPE sequence...\""
															}
														},
														{
															"callFunction": "TH1: SnakeEscapeEdge",
															"sid": 190816160202128
														}
													],
													"sid": 655458810236330
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 456966129774043,
															"parameters": {
																"first-value": "snake_head.CaseType",
																"comparison": 0,
																"second-value": "3"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 820574431758400,
															"parameters": {
																"first-value": "snake_head.HasCheckpoint",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 529834745605004,
															"parameters": {
																"type": "log",
																"message": "\"AUTO CONTINUE!\""
															}
														},
														{
															"callFunction": "TH3: MoveToCheckpoint",
															"sid": 929391716981275
														}
													],
													"sid": 518567722363425
												}
											]
										}
									]
								}
							]
						},
						{
							"functionName": "TH1: SnakeEscapeEdge",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 908193735912637,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 199186180855785,
											"parameters": {
												"instance-variable": "PrevX",
												"value": "snake_head.X"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 149462176279238,
											"parameters": {
												"instance-variable": "PrevY",
												"value": "snake_head.Y"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 555876089351327,
											"parameters": {
												"instance-variable": "PrevGridX",
												"value": "snake_head.GridX"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 293362075040236,
											"parameters": {
												"instance-variable": "PrevGridY",
												"value": "snake_head.GridY"
											}
										},
										{
											"id": "clear",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 829725722922090
										},
										{
											"id": "add-key",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 123749974743810,
											"parameters": {
												"key": "\"0_X\"",
												"value": "snake_head.PrevGridX"
											}
										},
										{
											"id": "add-key",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 474762920106990,
											"parameters": {
												"key": "\"0_Y\"",
												"value": "snake_head.PrevGridY"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 974859046473695,
											"parameters": {
												"variable": "EscapeDuration",
												"value": "10 - (snake_body.NodeIndex * 0.4)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 289842013540766,
											"parameters": {
												"variable": "EscapeDuration",
												"value": "max(EscapeDuration, 9)"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "snake_head",
											"sid": 672509868619647,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"head_escape\"",
												"property": "position",
												"end-x": "snake_head.X + cos(snake_head.Angle - 90) * 2000",
												"end-y": "snake_head.Y + sin(snake_head.Angle - 90) * 2000",
												"time": "EscapeDuration",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 198514764499569,
											"parameters": {
												"type": "log",
												"message": "\"Head escaping...\""
											}
										}
									],
									"sid": 559818573661852,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 784518434891700,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 735103596293191,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 480673165069615,
															"parameters": {
																"first-value": "snake_body.OwnerID",
																"comparison": 0,
																"second-value": "snake_head.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 644111036339452,
															"parameters": {
																"instance-variable": "PrevX",
																"value": "snake_body.X"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 781049872897593,
															"parameters": {
																"instance-variable": "PrevY",
																"value": "snake_body.Y"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 363023567253222,
															"parameters": {
																"instance-variable": "PrevGridX",
																"value": "snake_body.GridX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 167594607484509,
															"parameters": {
																"instance-variable": "PrevGridY",
																"value": "snake_body.GridY"
															}
														},
														{
															"id": "add-key",
															"objectClass": "Dic_BodyPrevPos",
															"sid": 649837634749438,
															"parameters": {
																"key": "str(snake_body.NodeIndex) & \"_X\"",
																"value": "snake_body.PrevGridX"
															}
														},
														{
															"id": "add-key",
															"objectClass": "Dic_BodyPrevPos",
															"sid": 598799235797549,
															"parameters": {
																"key": "str(snake_body.NodeIndex) & \"_Y\"",
																"value": "snake_body.PrevGridY"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 834113439074365,
															"parameters": {
																"type": "log",
																"message": "\"Saved Body \" & snake_body.NodeIndex & \" pos: \" & snake_body.PrevGridX & \",\" & snake_body.PrevGridY"
															}
														}
													],
													"sid": 447387803516946,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 684361839005211,
																	"parameters": {
																		"first-value": "snake_body.NodeIndex",
																		"comparison": 0,
																		"second-value": "1"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 486586139873421,
																	"parameters": {
																		"instance-variable": "GridX",
																		"value": "snake_head.PrevGridX"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 710450618832804,
																	"parameters": {
																		"instance-variable": "GridY",
																		"value": "snake_head.PrevGridY"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 741831917267937,
																	"parameters": {
																		"type": "log",
																		"message": "\"Body 1 GridPos set to: \" & snake_body.GridX & \",\" & snake_body.GridY"
																	}
																}
															],
															"sid": 635734477060389
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 259479715988577
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 867753605326173,
																	"parameters": {
																		"variable": "targetX",
																		"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_X\"))"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 570404048930654,
																	"parameters": {
																		"variable": "targetY",
																		"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_Y\"))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 977345674088267,
																	"parameters": {
																		"instance-variable": "GridX",
																		"value": "targetX"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 742684060152387,
																	"parameters": {
																		"instance-variable": "GridY",
																		"value": "targetY"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 469444345189789,
																	"parameters": {
																		"type": "log",
																		"message": "\"Body \" & snake_body.NodeIndex & \" GridPos set to: \" & snake_body.GridX & \",\" & snake_body.GridY"
																	}
																}
															],
															"sid": 846006877916206
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 514315196718099,
																	"parameters": {
																		"object": "checkpoint"
																	}
																}
															],
															"actions": [],
															"sid": 207145013404427,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 750730325875431,
																			"parameters": {
																				"first-value": "checkpoint.GridX",
																				"comparison": 0,
																				"second-value": "snake_body.GridX"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 291548750429262,
																			"parameters": {
																				"first-value": "checkpoint.GridY",
																				"comparison": 0,
																				"second-value": "snake_body.GridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "tween-two-properties",
																			"objectClass": "snake_body",
																			"sid": 279856095986286,
																			"behaviorType": "Tween",
																			"parameters": {
																				"tags": "\"move\"",
																				"property": "position",
																				"end-x": "checkpoint.X",
																				"end-y": "checkpoint.Y",
																				"time": "0.125",
																				"ease": "noease",
																				"destroy-on-complete": "no",
																				"loop": "no",
																				"ping-pong": "no",
																				"repeat-count": "1"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 789641080284030,
																			"parameters": {
																				"type": "log",
																				"message": "\"Body \" & snake_body.NodeIndex & \" moving to checkpoint at (\" & checkpoint.GridX & \",\" & checkpoint.GridY & \")\""
																			}
																		}
																	],
																	"sid": 966747045506867
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"functionName": "TH2: SnakeBlocked",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 318845037066394,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "stop-tweens",
											"objectClass": "snake_head",
											"sid": 372259712814777,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"head_move_checkpoint\""
											}
										},
										{
											"id": "stop-all-tweens",
											"objectClass": "UI_redaura",
											"sid": 198457696903032,
											"behaviorType": "Tween"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 488678024758099,
											"parameters": {
												"instance-variable": "CaseType",
												"value": "2"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "snake_head",
											"sid": 851262552871580,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"collision_pullback\"",
												"property": "position",
												"end-x": " snake_head.PrevX",
												"end-y": " snake_head.PrevY",
												"time": "0.2",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "UI_redaura",
											"sid": 226015138874974,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"warning_open\"",
												"property": "offsetOpacity",
												"end-value": "100",
												"time": "0.1",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 381004108059848,
											"parameters": {
												"type": "log",
												"message": "\"HEAD pulling back from collision...\""
											}
										}
									],
									"sid": 110106723102436,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 750064283608222,
													"parameters": {
														"seconds": "0.5",
														"use-timescale": true
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "UI_redaura",
													"sid": 105656688748083,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"warning_close\"",
														"property": "offsetOpacity",
														"end-value": "0",
														"time": "0.5",
														"ease": "noease",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 568601103480850
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 306631805431954,
											"parameters": {
												"object": "snake_body"
											}
										}
									],
									"actions": [],
									"sid": 184009227817499,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 868566328590986,
													"parameters": {
														"first-value": "snake_body.OwnerID",
														"comparison": 0,
														"second-value": "snake_head.OwnerID"
													}
												}
											],
											"actions": [
												{
													"id": "stop-tweens",
													"objectClass": "snake_body",
													"sid": 602278124863170,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"body_move_checkpoint\""
													}
												},
												{
													"id": "tween-two-properties",
													"objectClass": "snake_body",
													"sid": 425071326971146,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"collision_pullback\"",
														"property": "position",
														"end-x": "snake_body.PrevX",
														"end-y": "snake_body.PrevY",
														"time": "0.2",
														"ease": "noease",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 573616328005696,
													"parameters": {
														"type": "log",
														"message": "\"Body \" & snake_body.NodeIndex & \" pulling back to (\" &  snake_body.PrevX & \",\" & snake_body.PrevY & \")\""
													}
												},
												{
													"id": "subtract-from-eventvar",
													"objectClass": "System",
													"sid": 559772161664053,
													"parameters": {
														"variable": "Lives",
														"value": "1"
													}
												}
											],
											"sid": 458330260286854
										}
									]
								}
							]
						},
						{
							"functionName": "TH3: MoveToCheckpoint",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 496632190013723,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 939293188168368,
											"parameters": {
												"instance-variable": "HasCheckpoint",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 871497809464476,
											"parameters": {
												"instance-variable": "PrevX",
												"value": "snake_head.X"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 523527445657396,
											"parameters": {
												"instance-variable": "PrevY",
												"value": "snake_head.Y"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 105541162323896,
											"parameters": {
												"instance-variable": "PrevGridX",
												"value": "snake_head.GridX"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 813671952220296,
											"parameters": {
												"instance-variable": "PrevGridY",
												"value": "snake_head.GridY"
											}
										},
										{
											"id": "clear",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 673046899729036
										}
									],
									"sid": 722395125161878,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 363923241972906,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 425153301643413,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 133576387434119,
															"parameters": {
																"first-value": "snake_body.OwnerID",
																"comparison": 0,
																"second-value": "snake_head.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 639664469225560,
															"parameters": {
																"instance-variable": "PrevGridX",
																"value": "snake_body.GridX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 851390226054303,
															"parameters": {
																"instance-variable": "PrevGridY",
																"value": "snake_body.GridY"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 298690179071172,
															"parameters": {
																"instance-variable": "PrevX",
																"value": "snake_body.X"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 658574242636628,
															"parameters": {
																"instance-variable": "PrevY",
																"value": "snake_body.Y"
															}
														},
														{
															"id": "add-key",
															"objectClass": "Dic_BodyPrevPos",
															"sid": 945038794446880,
															"parameters": {
																"key": "str(snake_body.NodeIndex) & \"_X\"",
																"value": "snake_body.GridX"
															}
														},
														{
															"id": "add-key",
															"objectClass": "Dic_BodyPrevPos",
															"sid": 931661683378754,
															"parameters": {
																"key": "str(snake_body.NodeIndex) & \"_Y\"",
																"value": "snake_body.GridY"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 305556719660454,
															"parameters": {
																"type": "log",
																"message": "\"Body \" & snake_body.NodeIndex & \" saved GridPos\"\r\n"
															}
														}
													],
													"sid": 575586370902000,
													"children": [
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 525529099354136,
																	"parameters": {
																		"variable": "targetX",
																		"value": "0"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 946585187758964,
																	"parameters": {
																		"variable": "targetY",
																		"value": "0"
																	}
																}
															],
															"sid": 545492662878442,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 323282686971328,
																			"parameters": {
																				"first-value": "snake_body.NodeIndex",
																				"comparison": 0,
																				"second-value": "1"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 406395332864840,
																			"parameters": {
																				"variable": "targetX",
																				"value": "snake_head.PrevGridX\n"
																			}
																		},
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 538035904826042,
																			"parameters": {
																				"variable": "targetY",
																				"value": "snake_head.PrevGridY\n"
																			}
																		}
																	],
																	"sid": 275963373201595
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 698363240222469
																		}
																	],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 758463157457402,
																			"parameters": {
																				"variable": "targetX",
																				"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_X\"))\n"
																			}
																		},
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 227768514546708,
																			"parameters": {
																				"variable": "targetY",
																				"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_Y\"))"
																			}
																		}
																	],
																	"sid": 998730444194822
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "for-each",
																			"objectClass": "System",
																			"sid": 115718449726556,
																			"parameters": {
																				"object": "checkpoint"
																			}
																		}
																	],
																	"actions": [],
																	"sid": 553491279054896,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "compare-two-values",
																					"objectClass": "System",
																					"sid": 635504877433122,
																					"parameters": {
																						"first-value": "checkpoint.GridX ",
																						"comparison": 0,
																						"second-value": "targetX"
																					}
																				},
																				{
																					"id": "compare-two-values",
																					"objectClass": "System",
																					"sid": 290675198098076,
																					"parameters": {
																						"first-value": "checkpoint.GridY",
																						"comparison": 0,
																						"second-value": "targetY"
																					}
																				}
																			],
																			"actions": [
																				{
																					"id": "set-instvar-value",
																					"objectClass": "snake_body",
																					"sid": 781202161538773,
																					"parameters": {
																						"instance-variable": "GridX",
																						"value": "targetX"
																					}
																				},
																				{
																					"id": "set-instvar-value",
																					"objectClass": "snake_body",
																					"sid": 699945032015169,
																					"parameters": {
																						"instance-variable": "GridY",
																						"value": "targetY"
																					}
																				},
																				{
																					"id": "tween-two-properties",
																					"objectClass": "snake_body",
																					"sid": 152295649796023,
																					"behaviorType": "Tween",
																					"parameters": {
																						"tags": "\"body_move_checkpoint\"",
																						"property": "position",
																						"end-x": "checkpoint.X",
																						"end-y": "checkpoint.Y",
																						"time": "0.2",
																						"ease": "noease",
																						"destroy-on-complete": "no",
																						"loop": "no",
																						"ping-pong": "no",
																						"repeat-count": "1"
																					}
																				}
																			],
																			"sid": 886423740070938
																		}
																	]
																}
															]
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 697475907286534,
													"parameters": {
														"object": "checkpoint"
													}
												}
											],
											"actions": [],
											"sid": 813283804989530,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 813998933033658,
															"parameters": {
																"first-value": "checkpoint.GridX ",
																"comparison": 0,
																"second-value": "snake_head.NextGridX"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 604749755460313,
															"parameters": {
																"first-value": "checkpoint.GridY",
																"comparison": 0,
																"second-value": "snake_head.NextGridY"
															}
														}
													],
													"actions": [
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 394583061784288,
															"parameters": {
																"type": "log",
																"message": "\"✓ FOUND checkpoint for HEAD!\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 348713804928338,
															"parameters": {
																"instance-variable": "GridX",
																"value": "snake_head.NextGridX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 179219220619790,
															"parameters": {
																"instance-variable": "GridY",
																"value": "snake_head.NextGridY"
															}
														},
														{
															"id": "tween-two-properties",
															"objectClass": "snake_head",
															"sid": 893509559305817,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"head_move_checkpoint\"",
																"property": "position",
																"end-x": "checkpoint.X",
																"end-y": "checkpoint.Y",
																"time": "0.2",
																"ease": "noease",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 505592105732067,
															"parameters": {
																"type": "log",
																"message": "\"Checking checkpoint at (\" & checkpoint.GridX & \",\" & checkpoint.GridY & \") vs target (\" & snake_head.NextGridX & \",\" & snake_head.NextGridY & \")\""
															}
														}
													],
													"sid": 912118551665149
												}
											]
										}
									]
								}
							]
						}
					],
					"sid": 675651775942849
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Time_Level",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 462178663642448,
									"parameters": {
										"interval-seconds": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "text_time",
									"sid": 201869453266939,
									"parameters": {
										"text": "zeropad(floor(TimeRemaining / 60), 2) & \":\" & zeropad(TimeRemaining % 60, 2)"
									}
								}
							],
							"sid": 655254648835363,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 163819575047577,
											"parameters": {
												"first-value": "TimeRemaining",
												"comparison": 4,
												"second-value": "0"
											}
										},
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 498985220586805,
											"parameters": {
												"first-value": "IsTimerRunning",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "subtract-from-eventvar",
											"objectClass": "System",
											"sid": 823200227725089,
											"parameters": {
												"variable": "TimeRemaining",
												"value": "1"
											}
										}
									],
									"sid": 724860124895867
								}
							]
						}
					],
					"sid": 536342940732395
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Score",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "snake_head",
									"sid": 898473924731490,
									"parameters": {
										"object": "exit_zone"
									}
								}
							],
							"actions": [],
							"sid": 808352534505973,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 966776993954963,
											"parameters": {
												"variable": "completedSnakes",
												"value": "1"
											}
										},
										{
											"id": "set-text",
											"objectClass": "text_count_snake",
											"sid": 716606690394152,
											"parameters": {
												"text": "completedSnakes & \"/\" & totalSnakes"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "HUD_icon_snake",
											"sid": 537832089746443,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"count_bump\"",
												"property": "scale",
												"end-x": "0.53",
												"end-y": "0.53",
												"time": "0.3",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"callFunction": "CheckWinCondition",
											"sid": 643593082149026
										}
									],
									"sid": 556276490813480
								}
							]
						},
						{
							"functionName": "CheckWinCondition",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 873872460924349,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 858603164458227,
											"parameters": {
												"first-value": "completedSnakes",
												"comparison": 0,
												"second-value": "totalSnakes"
											}
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 285442108846763,
											"parameters": {
												"seconds": "0.7",
												"use-timescale": true
											}
										},
										{
											"id": "open0",
											"objectClass": "Dia_winSceen",
											"sid": 738376977091643,
											"behaviorType": "Dialog",
											"parameters": {
												"target_x0": "0",
												"target_y1": "0",
												"center4": "yes"
											}
										}
									],
									"sid": 734158919688445
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "ondialogopened0",
									"objectClass": "Dia_winSceen",
									"sid": 823880768250822,
									"behaviorType": "Dialog"
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "UI_txt_endgame",
									"sid": 281322820646232,
									"behaviorType": "Sine",
									"parameters": {
										"state": "active"
									}
								},
								{
									"id": "set-active",
									"objectClass": "UI_btn_nextLevel",
									"sid": 840181211796891,
									"behaviorType": "Sine",
									"parameters": {
										"state": "active"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 443610240949261,
									"parameters": {
										"seconds": "0.5",
										"use-timescale": true
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 717416015587783,
									"parameters": {
										"object-to-create": "Particles",
										"layer": "\"win_sceen\"",
										"x": "UI_btn_nextLevel.X",
										"y": "UI_btn_nextLevel.Y",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								}
							],
							"sid": 992833321444873
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-created",
									"objectClass": "confetti",
									"sid": 874929907818539
								}
							],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "confetti",
									"sid": 348251913144912,
									"parameters": {
										"frame-number": "random(Self.AnimationFrameCount)"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 597007322582284,
									"parameters": {
										"seconds": "0.01",
										"use-timescale": true
									}
								},
								{
									"id": "move-to-top",
									"objectClass": "confetti",
									"sid": 677591050616684
								},
								{
									"id": "set-speed",
									"objectClass": "confetti",
									"sid": 764839105210795,
									"behaviorType": "Rotate",
									"parameters": {
										"speed": "choose(-1,1) * random(50,200)"
									}
								}
							],
							"sid": 830022213462370
						},
						{
							"eventType": "variable",
							"name": "CoinCount",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 168509270678896
						},
						{
							"eventType": "variable",
							"name": "BaseX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 109504237893403
						},
						{
							"eventType": "variable",
							"name": "BaseY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 232887826020962
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onclicked3",
									"objectClass": "UI_btn_nextLevel",
									"sid": 973788774001155,
									"behaviorType": "Button"
								},
								{
									"id": "has-tags",
									"objectClass": "UI_btn_nextLevel",
									"sid": 339356106236100,
									"parameters": {
										"tags": "\"btn_nextLevel\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 642480648197647,
									"parameters": {
										"variable": "RewardDone",
										"value": "false"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "UI_coin_reward",
									"sid": 796396339743460,
									"behaviorType": "Tween",
									"parameters": {
										"mode": "enabled"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "UI_btn_x2",
									"sid": 994228540740158,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "UI_btn_nextLevel",
									"sid": 323666076543058,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "text_coin_reward",
									"sid": 550297038426761,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "coins_effect",
									"sid": 762451506975668,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "UI_coin_reward",
									"sid": 226919381334461,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 477818874138940,
									"parameters": {
										"variable": "CoinCount",
										"value": "12"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 105795287020426,
									"parameters": {
										"variable": "BaseX",
										"value": "UI_btn_x2.X"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 747177491470434,
									"parameters": {
										"variable": "BaseY",
										"value": "UI_btn_x2.Y -20"
									}
								}
							],
							"sid": 667846082603308,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 555588960054771,
											"parameters": {
												"name": "\"i\"",
												"start-index": "0",
												"end-index": "CoinCount - 3"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 780808813032908,
											"parameters": {
												"object-to-create": "UI_coin_reward",
												"layer": "\"win_sceen\"",
												"x": "BaseX + random(-60, 60)",
												"y": "BaseY + random(-20, 20)",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "UI_coin_reward",
											"sid": 488670932454117,
											"parameters": {
												"instance-variable": "Delay",
												"value": "loopindex * 0.5"
											}
										}
									],
									"sid": 260512581759813
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-created",
									"objectClass": "UI_coin_reward",
									"sid": 802365549322721
								}
							],
							"actions": [
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 586418351369978,
									"parameters": {
										"seconds": "0.4",
										"use-timescale": true
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "UI_coin_reward",
									"sid": 866706611616812,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"pop\"",
										"property": "position",
										"end-x": "Self.X",
										"end-y": "Self.Y - random(80, 140)",
										"time": "0.3",
										"ease": "easeinback",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 456592583350813
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "UI_coin_reward",
									"sid": 470936535340054,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"pop\""
									}
								}
							],
							"actions": [
								{
									"id": "tween-two-properties",
									"objectClass": "UI_coin_reward",
									"sid": 733454960799531,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"fly_to_ui\"",
										"property": "position",
										"end-x": "UI_coin_topBar.X",
										"end-y": "UI_coin_topBar.Y",
										"time": "0.4",
										"ease": "default",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "move-to-top",
									"objectClass": "UI_btnPlus_topBar",
									"sid": 191878429248262
								}
							],
							"sid": 482489537018718
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "UI_coin_reward",
									"sid": 902921170929215,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"fly_to_ui\""
									}
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 865440597100472,
									"parameters": {
										"variable": "RewardDone"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 859226159915112,
									"parameters": {
										"variable": "RewardDone",
										"value": "true"
									}
								},
								{
									"id": "destroy",
									"objectClass": "UI_coin_reward",
									"sid": 379377328305202
								},
								{
									"id": "set-key",
									"objectClass": "DIcSaveGame",
									"sid": 606596636775549,
									"parameters": {
										"key": "\"SAVE_COIN\"",
										"value": "DicSaveGame.Get(\"SAVE_COIN\") + 40"
									}
								},
								{
									"callFunction": "SAVE_GAME",
									"sid": 650382057824354
								},
								{
									"id": "set-text",
									"objectClass": "text_coin",
									"sid": 916089125226311,
									"parameters": {
										"text": "DIcSaveGame.Get(SAVE_COIN)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 355390729371266,
									"parameters": {
										"variable": "CurrentLevel",
										"value": " str( int(CurrentLevel) + 1 )"
									}
								},
								{
									"id": "set-key",
									"objectClass": "DIcSaveGame",
									"sid": 923639044388749,
									"parameters": {
										"key": "\"CurrentLevel\"",
										"value": "CurrentLevel"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 964712212687266,
									"parameters": {
										"seconds": "0.6",
										"use-timescale": true
									}
								},
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 199519254771067,
									"parameters": {
										"layout": "Loading"
									}
								}
							],
							"sid": 867545897766224
						}
					],
					"sid": 199234473461030
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Level_Failed",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onclicked3",
									"objectClass": "HUD_retry",
									"sid": 311667883817332,
									"behaviorType": "Button"
								}
							],
							"actions": [
								{
									"id": "open0",
									"objectClass": "Dia_noti_failed",
									"sid": 143614636933935,
									"behaviorType": "Dialog",
									"parameters": {
										"target_x0": "0",
										"target_y1": "0",
										"center4": "yes"
									}
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 315775161697069,
									"parameters": {
										"layer": "\"fade\"",
										"visibility": "visible"
									}
								}
							],
							"sid": 527259357290050
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onclicked3",
									"objectClass": "HUD_popUp_close",
									"sid": 720356420155104,
									"behaviorType": "Button"
								}
							],
							"actions": [
								{
									"id": "close1",
									"objectClass": "Dia_noti_failed",
									"sid": 135994647912746,
									"behaviorType": "Dialog"
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 484365461781949,
									"parameters": {
										"seconds": "0.3",
										"use-timescale": true
									}
								},
								{
									"id": "open0",
									"objectClass": "Dia_noti_restart",
									"sid": 926089856929721,
									"behaviorType": "Dialog",
									"parameters": {
										"target_x0": "0",
										"target_y1": "0",
										"center4": "yes"
									}
								}
							],
							"sid": 502798097576418
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onclicked3",
									"objectClass": "UL_btn_booster",
									"sid": 136876386534423,
									"behaviorType": "Button"
								},
								{
									"id": "has-tags",
									"objectClass": "UL_btn_booster",
									"sid": 937370457327529,
									"parameters": {
										"tags": "\"restart\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "Restart_Level",
									"sid": 610445253674446
								}
							],
							"sid": 701272038182549
						}
					],
					"sid": 546206241501007
				},
				{
					"functionName": "Restart_Level",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 846727950087798,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 564334090732866,
									"parameters": {
										"layout": "Loading"
									}
								}
							],
							"sid": 410127597142181
						}
					]
				},
				{
					"functionName": "LoseLife",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 999711436263177,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 903559600790676,
									"parameters": {
										"variable": "Lives",
										"value": "1"
									}
								}
							],
							"sid": 875002789680482,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 373684195163783,
											"parameters": {
												"object": "HUD_heart"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "HUD_heart",
											"sid": 405434881628109,
											"parameters": {
												"instance-variable": "Index",
												"value": "Lives +1"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "HUD_heart",
											"sid": 882714460312822,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"heart_scale\"",
												"property": "scale",
												"end-x": "0.25",
												"end-y": "0.25",
												"time": "0.2",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "HUD_heart",
											"sid": 520422460061930,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"heart_opacity\"",
												"property": "offsetOpacity",
												"end-value": "0",
												"time": "0.3",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 558052829608062
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "HUD_heart",
							"sid": 541188550432997,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"heart_opacity\""
							}
						}
					],
					"actions": [],
					"sid": 681195426955774
				}
			],
			"sid": 403058626511012
		}
	],
	"sid": 255832887203852
}