{
	"name": "es_game",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "es_global"
		},
		{
			"eventType": "comment",
			"text": "Value_global"
		},
		{
			"eventType": "variable",
			"name": "TimeRemaining",
			"type": "number",
			"initialValue": "180",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 314466592130703
		},
		{
			"eventType": "variable",
			"name": "IsTimerRunning",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 450699413644631
		},
		{
			"eventType": "variable",
			"name": "NextLayout",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 648177564860600
		},
		{
			"eventType": "comment",
			"text": "Value_createMap"
		},
		{
			"eventType": "variable",
			"name": "CurrentLevel",
			"type": "string",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 976100879981987
		},
		{
			"eventType": "variable",
			"name": "TileSize",
			"type": "string",
			"initialValue": "32",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 195357417339530
		},
		{
			"eventType": "variable",
			"name": "GridW",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 146632440649131
		},
		{
			"eventType": "variable",
			"name": "GridH",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 544975547109121
		},
		{
			"eventType": "variable",
			"name": "ArrowIndex",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 851672679628418
		},
		{
			"eventType": "variable",
			"name": "ArrowColor",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 685329497593142
		},
		{
			"eventType": "variable",
			"name": "NodeX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 462040779830631
		},
		{
			"eventType": "variable",
			"name": "NodeY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 739137846003960
		},
		{
			"eventType": "variable",
			"name": "Spacing",
			"type": "number",
			"initialValue": "15",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 769772685677035
		},
		{
			"eventType": "variable",
			"name": "OffsetX",
			"type": "number",
			"initialValue": "40",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 663684395076395
		},
		{
			"eventType": "variable",
			"name": "OffsetY",
			"type": "number",
			"initialValue": "-10",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 919859903970598
		},
		{
			"eventType": "variable",
			"name": "MapOffsetX",
			"type": "number",
			"initialValue": "2.3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 128494560709604
		},
		{
			"eventType": "variable",
			"name": "MapOffsetY",
			"type": "number",
			"initialValue": "-9",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 258650796220272
		},
		{
			"eventType": "variable",
			"name": "tailUID",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 283895727728582
		},
		{
			"eventType": "variable",
			"name": "prevNodeX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 319336390203222
		},
		{
			"eventType": "variable",
			"name": "prevNodeY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 823640602815257
		},
		{
			"eventType": "variable",
			"name": "prevPixelX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 905522084338931
		},
		{
			"eventType": "variable",
			"name": "prevPixelY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 959848919518454
		},
		{
			"eventType": "comment",
			"text": "Value_eventTouch"
		},
		{
			"eventType": "variable",
			"name": "EscapeSpeed",
			"type": "number",
			"initialValue": "5",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 385885328052419
		},
		{
			"eventType": "variable",
			"name": "MoveSpeed",
			"type": "number",
			"initialValue": "0.3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 701063491644107
		},
		{
			"eventType": "variable",
			"name": "targetX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 247212476397903
		},
		{
			"eventType": "variable",
			"name": "targetY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 261300706731908
		},
		{
			"eventType": "variable",
			"name": "nextTargetX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 822197696691645
		},
		{
			"eventType": "variable",
			"name": "nextTargetY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 438166542231860
		},
		{
			"eventType": "variable",
			"name": "EscapeDuration",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 190656544737886
		},
		{
			"eventType": "variable",
			"name": "ActiveOwnerID",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 792536395299921
		},
		{
			"eventType": "variable",
			"name": "HasTap",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 105743239365813
		},
		{
			"eventType": "comment",
			"text": "Value_eventScore"
		},
		{
			"eventType": "variable",
			"name": "totalSnakes",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 343390468667769
		},
		{
			"eventType": "variable",
			"name": "completedSnakes",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 224546069242274
		},
		{
			"eventType": "variable",
			"name": "RewardDone",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 674097357650379
		},
		{
			"eventType": "comment",
			"text": "Value_event_Lose_Heart"
		},
		{
			"eventType": "variable",
			"name": "Lives",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 446918629123048
		},
		{
			"functionName": "start_layout",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 676433732713456,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-opacity",
							"objectClass": "UI_redaura",
							"sid": 963415794366902,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Grid_Dot",
							"sid": 776784593558525,
							"parameters": {
								"instance-variable": "PathOrder",
								"value": "-1"
							}
						},
						{
							"id": "set-text",
							"objectClass": "text_level",
							"sid": 423056786673270,
							"parameters": {
								"text": "\"Level  \" & CurrentLevel"
							}
						},
						{
							"id": "set-text",
							"objectClass": "text_level_complete",
							"sid": 863234938864178,
							"parameters": {
								"text": "\"Level \" & CurrentLevel & \" Complete!\""
							}
						},
						{
							"id": "set-active",
							"objectClass": "UI_txt_endgame",
							"sid": 302328400100526,
							"behaviorType": "Sine",
							"parameters": {
								"state": "inactive"
							}
						},
						{
							"id": "set-active",
							"objectClass": "UI_lose_btn_playon",
							"sid": 511138942491756,
							"behaviorType": "Sine",
							"parameters": {
								"state": "inactive"
							}
						},
						{
							"id": "destroy",
							"objectClass": "confetti",
							"sid": 258079188666520
						},
						{
							"id": "set-enabled",
							"objectClass": "UI_coin_reward",
							"sid": 526790934502681,
							"behaviorType": "Tween",
							"parameters": {
								"mode": "disabled"
							}
						}
					],
					"sid": 903865123258397
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 481191266426587,
							"parameters": {
								"first-value": "CurrentLevel",
								"comparison": 0,
								"second-value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "UI_challenge_level",
							"sid": 100423193595068,
							"parameters": {
								"visibility": "visible"
							}
						}
					],
					"sid": 977135928938064
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 910223006716028
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 656539072003587,
							"parameters": {
								"first-value": "CurrentLevel",
								"comparison": 4,
								"second-value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "UI_challenge_level",
							"sid": 199283004161639,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 642400803777196
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 928078007762228
				}
			],
			"actions": [
				{
					"callFunction": "start_layout",
					"sid": 921749450845764
				}
			],
			"sid": 331272569351440
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "GamePlay",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "Event_CreateMap",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 598187291300820
								}
							],
							"actions": [
								{
									"id": "parse",
									"objectClass": "JsonLevel",
									"sid": 124700179948049,
									"parameters": {
										"data": "Dic_Level.Get(CurrentLevel)\r\n"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 674020963183056,
									"parameters": {
										"variable": "completedSnakes",
										"value": "0"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 193132991246609,
									"parameters": {
										"variable": "GridW",
										"value": "JsonLevel.Get(\"size.x\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 278657680447244,
									"parameters": {
										"variable": "GridH",
										"value": "JsonLevel.Get(\"size.y\")"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 801384273160815,
									"parameters": {
										"seconds": "0",
										"use-timescale": true
									}
								},
								{
									"callFunction": "CreateMap",
									"sid": 504586293925285
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 530537943159274
								},
								{
									"callFunction": "UpdateGridDot",
									"sid": 870595647738692
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 954723006527248,
									"parameters": {
										"variable": "totalSnakes",
										"value": "snake_head.Count"
									}
								},
								{
									"id": "set-text",
									"objectClass": "text_count_snake",
									"sid": 517701128728663,
									"parameters": {
										"text": "completedSnakes & \"/\" & totalSnakes"
									}
								}
							],
							"sid": 844376283277351,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 620372455271065,
											"parameters": {
												"object": "HUD_heart"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "HUD_heart",
											"sid": 439218117025067,
											"parameters": {
												"instance-variable": "Index",
												"value": "loopindex +1"
											}
										}
									],
									"sid": 702205235384187
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 245204154162484,
											"parameters": {
												"object": "snake_head"
											}
										}
									],
									"actions": [],
									"sid": 429089664178640,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 518888036729588,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 726245051755280,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 995393065327347,
															"parameters": {
																"first-value": "snake_body.OwnerID",
																"comparison": 0,
																"second-value": "snake_head.OwnerID"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 978561254348200,
															"parameters": {
																"first-value": "snake_body.NodeIndex",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [],
													"sid": 538645881994434,
													"children": [
														{
															"eventType": "comment",
															"text": "Case 1 — Body ở dưới head → head quay lên"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 939954112134135,
																	"parameters": {
																		"first-value": "snake_body.GridY",
																		"comparison": 4,
																		"second-value": "snake_head.GridY"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 551809970863093,
																	"parameters": {
																		"instance-variable": "Dir",
																		"value": "0"
																	}
																},
																{
																	"id": "set-angle",
																	"objectClass": "snake_head",
																	"sid": 101158118059308,
																	"parameters": {
																		"angle": "0"
																	}
																}
															],
															"sid": 680678475746153
														},
														{
															"eventType": "comment",
															"text": "Case 2 — Body ở trái head → head quay phải"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 646309372366691,
																	"parameters": {
																		"first-value": "snake_body.GridX",
																		"comparison": 2,
																		"second-value": "snake_head.GridX "
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 388340515059206,
																	"parameters": {
																		"instance-variable": "Dir",
																		"value": "1"
																	}
																},
																{
																	"id": "set-angle",
																	"objectClass": "snake_head",
																	"sid": 455615450725557,
																	"parameters": {
																		"angle": "90"
																	}
																}
															],
															"sid": 154935164520960
														},
														{
															"eventType": "comment",
															"text": "Case 3 — Body ở trên head → head quay xuống"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 879569604896091,
																	"parameters": {
																		"first-value": "snake_body.GridY",
																		"comparison": 2,
																		"second-value": "snake_head.GridY"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 573360255174363,
																	"parameters": {
																		"instance-variable": "Dir",
																		"value": "2"
																	}
																},
																{
																	"id": "set-angle",
																	"objectClass": "snake_head",
																	"sid": 547356265993155,
																	"parameters": {
																		"angle": "180"
																	}
																}
															],
															"sid": 381120568298478
														},
														{
															"eventType": "comment",
															"text": "Case 4 — Body ở phải head → head quay trái"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 367950095811990,
																	"parameters": {
																		"first-value": "snake_body.GridX",
																		"comparison": 4,
																		"second-value": "snake_head.GridX "
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 669140116542853,
																	"parameters": {
																		"instance-variable": "Dir",
																		"value": "3"
																	}
																},
																{
																	"id": "set-angle",
																	"objectClass": "snake_head",
																	"sid": 215528021265497,
																	"parameters": {
																		"angle": "270"
																	}
																}
															],
															"sid": 340146250308437
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 749666465202221,
																	"parameters": {
																		"first-value": "snake_body.isDiagonalBody",
																		"comparison": 0,
																		"second-value": "1"
																	}
																}
															],
															"actions": [],
															"sid": 534206164082425,
															"children": [
																{
																	"eventType": "comment",
																	"text": "Case 5 — Body ở trái-dưới → Head quay phải-lên (↗)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 658617494690256,
																			"parameters": {
																				"first-value": "snake_body.GridX",
																				"comparison": 2,
																				"second-value": "snake_head.GridX "
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 909438305057879,
																			"parameters": {
																				"first-value": "snake_body.GridY",
																				"comparison": 4,
																				"second-value": "snake_head.GridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 482734117239406,
																			"parameters": {
																				"instance-variable": "Dir",
																				"value": "4"
																			}
																		},
																		{
																			"id": "set-angle",
																			"objectClass": "snake_head",
																			"sid": 584480916229978,
																			"parameters": {
																				"angle": "45"
																			}
																		}
																	],
																	"sid": 330563648222871
																},
																{
																	"eventType": "comment",
																	"text": "Case 6 — Body ở phải-dưới → Head quay trái-lên (↖)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 713012492807316,
																			"parameters": {
																				"first-value": "snake_body.GridX",
																				"comparison": 4,
																				"second-value": "snake_head.GridX "
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 683131657539435,
																			"parameters": {
																				"first-value": "snake_body.GridY",
																				"comparison": 4,
																				"second-value": "snake_head.GridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 121945592754722,
																			"parameters": {
																				"instance-variable": "Dir",
																				"value": "5"
																			}
																		},
																		{
																			"id": "set-angle",
																			"objectClass": "snake_head",
																			"sid": 213659070828772,
																			"parameters": {
																				"angle": "315"
																			}
																		}
																	],
																	"sid": 277849389700343
																},
																{
																	"eventType": "comment",
																	"text": "Case 7 — Body ở trái-trên → Head quay phải-xuống (↘)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 879158875493924,
																			"parameters": {
																				"first-value": "snake_body.GridX",
																				"comparison": 2,
																				"second-value": "snake_head.GridX "
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 247292853693664,
																			"parameters": {
																				"first-value": "snake_body.GridY",
																				"comparison": 2,
																				"second-value": "snake_head.GridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 953062553739270,
																			"parameters": {
																				"instance-variable": "Dir",
																				"value": "6"
																			}
																		},
																		{
																			"id": "set-angle",
																			"objectClass": "snake_head",
																			"sid": 615495257786044,
																			"parameters": {
																				"angle": "135"
																			}
																		}
																	],
																	"sid": 250904004736405
																},
																{
																	"eventType": "comment",
																	"text": "Case 8 — Body ở phải-trên → Head quay trái-xuống (↙)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 821884332651362,
																			"parameters": {
																				"first-value": "snake_body.GridX",
																				"comparison": 4,
																				"second-value": "snake_head.GridX "
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 223368830331891,
																			"parameters": {
																				"first-value": "snake_body.GridY",
																				"comparison": 2,
																				"second-value": "snake_head.GridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 922449433968726,
																			"parameters": {
																				"instance-variable": "Dir",
																				"value": "7"
																			}
																		},
																		{
																			"id": "set-angle",
																			"objectClass": "snake_head",
																			"sid": 476510768201503,
																			"parameters": {
																				"angle": "225"
																			}
																		}
																	],
																	"sid": 826634075189113
																}
															]
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 106032565671347,
													"parameters": {
														"object": "UI_head_snake"
													}
												}
											],
											"actions": [],
											"sid": 417940292169822,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "snake_head",
															"sid": 286456668544985,
															"parameters": {
																"instance-variable": "OwnerID",
																"comparison": 0,
																"value": "UI_head_snake.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "UI_head_snake",
															"sid": 283349906554957,
															"parameters": {
																"x": "snake_head.X",
																"y": "snake_head.Y"
															}
														},
														{
															"id": "set-angle",
															"objectClass": "UI_head_snake",
															"sid": 376416565116500,
															"parameters": {
																"angle": "snake_head.Angle"
															}
														},
														{
															"id": "set-scale",
															"objectClass": "UI_head_snake",
															"sid": 124951218318026,
															"parameters": {
																"scale": "0.155"
															}
														}
													],
													"sid": 347120660735707
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 724231061270823,
													"parameters": {
														"object": "UI_snake_eye"
													}
												}
											],
											"actions": [],
											"sid": 111272787990825,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "UI_head_snake",
															"sid": 655231308438168,
															"parameters": {
																"instance-variable": "OwnerID",
																"comparison": 0,
																"value": "UI_snake_eye.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "UI_snake_eye",
															"sid": 479314052183795,
															"parameters": {
																"x": "UI_head_snake.X + cos(UI_head_snake.Angle) * MapOffsetX",
																"y": "UI_head_snake.Y + sin(UI_head_snake.Angle) * MapOffsetY"
															}
														},
														{
															"id": "set-angle",
															"objectClass": "UI_snake_eye",
															"sid": 932604757723882,
															"parameters": {
																"angle": "UI_head_snake.Angle"
															}
														},
														{
															"id": "set-scale",
															"objectClass": "UI_snake_eye",
															"sid": 602750398698033,
															"parameters": {
																"scale": "0.1"
															}
														}
													],
													"sid": 569382568723559
												}
											]
										}
									]
								}
							]
						},
						{
							"functionName": "CreateMap",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 597243716764404,
									"disabled": true,
									"parameters": {
										"type": "log",
										"message": "\"Inside CreateMap - size.x = \" & JsonLevel.Get(\"size.x\")"
									}
								}
							],
							"sid": 735024326757715,
							"children": [
								{
									"eventType": "variable",
									"name": "nodeCount",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 208235264857947
								},
								{
									"eventType": "variable",
									"name": "headX",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 505528050696770
								},
								{
									"eventType": "variable",
									"name": "headY",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 399264627455485
								},
								{
									"eventType": "variable",
									"name": "tailX",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 439842981914561
								},
								{
									"eventType": "variable",
									"name": "tailY",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 716065720324464
								},
								{
									"eventType": "variable",
									"name": "totalNodes",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 804487144440188
								},
								{
									"eventType": "variable",
									"name": "currentX",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 532503268000819
								},
								{
									"eventType": "variable",
									"name": "currentY",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 299128076520369
								},
								{
									"eventType": "variable",
									"name": "pixelX",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 435387482415624
								},
								{
									"eventType": "variable",
									"name": "pixelY",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 197579463360042
								},
								{
									"eventType": "variable",
									"name": "MaxNodeIndex",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 605758208989332
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 156161660191792,
											"parameters": {
												"name": "\"x\"",
												"start-index": "0",
												"end-index": "GridW - 1"
											}
										}
									],
									"actions": [],
									"sid": 685127818715030,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 768760377029514,
													"parameters": {
														"name": "\"y\"",
														"start-index": "0",
														"end-index": "GridH - 1"
													}
												}
											],
											"actions": [
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 541853306686076,
													"parameters": {
														"object-to-create": "Grid_Dot",
														"layer": "\"Grid\"",
														"x": "((ViewportLeft(0)+ViewportRight(0))/2 - (GridW*(int(TileSize)+Spacing))/2) + loopindex(\"x\") * (int(TileSize) + Spacing)+ OffsetX\r\n",
														"y": "((ViewportTop(0)+ViewportBottom(0))/2 - (GridH*(int(TileSize)+Spacing))/2) + loopindex(\"y\") * (int(TileSize) + Spacing) + OffsetY\r\n",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 695336743097476,
													"disabled": true,
													"parameters": {
														"type": "log",
														"message": "\"Created Grid_Dot at (\" & loopindex(\"x\") & \",\" & loopindex(\"y\") & \")\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Grid_Dot",
													"sid": 586562390516337,
													"parameters": {
														"instance-variable": "GridX",
														"value": "loopindex(\"x\")"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Grid_Dot",
													"sid": 485893595266674,
													"parameters": {
														"instance-variable": "GridY",
														"value": "loopindex(\"y\")"
													}
												},
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 636720237411281,
													"parameters": {
														"object-to-create": "checkpoint",
														"layer": "\"Grid\"",
														"x": "Grid_Dot.X",
														"y": "Grid_Dot.Y",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "checkpoint",
													"sid": 511166452289752,
													"parameters": {
														"instance-variable": "GridX",
														"value": "loopindex(\"x\")"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "checkpoint",
													"sid": 245248740071024,
													"parameters": {
														"instance-variable": "GridY",
														"value": "loopindex(\"y\")"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 270928109961260,
													"disabled": true,
													"parameters": {
														"type": "log",
														"message": "\"Total Grid_Dot count: \" & Grid_Dot.Count"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 332514946747369,
													"disabled": true,
													"parameters": {
														"type": "log",
														"message": "Grid_dot.CPIndex"
													}
												}
											],
											"sid": 645652544631417
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "JsonLevel",
											"sid": 863199212711516,
											"parameters": {
												"path": "\"arrows\""
											}
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 249784792577650,
											"disabled": true,
											"parameters": {
												"type": "log",
												"message": "\"Total arrows: \" & JsonLevel.ArraySize(\"arrows\")"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 813349250075859,
											"parameters": {
												"variable": "ArrowIndex",
												"value": "JsonLevel.CurrentKey"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 301667405910389,
											"disabled": true,
											"parameters": {
												"type": "log",
												"message": "\"Processing arrow: \" & ArrowIndex"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 920169966834241,
											"parameters": {
												"variable": "ArrowColor",
												"value": "int(JsonLevel.Get(\"arrows.\" & ArrowIndex & \".color\"))"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 666125402601115,
											"parameters": {
												"variable": "nodeCount",
												"value": "0"
											}
										}
									],
									"sid": 559085100554659,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "JsonLevel",
													"sid": 506014198217399,
													"parameters": {
														"path": "\"arrows.\" & ArrowIndex & \".nodes\"\r\n"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 860825482178491,
													"parameters": {
														"variable": "nodeCount",
														"value": "1"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 889765517245336,
													"parameters": {
														"variable": "NodeX",
														"value": "int(JsonLevel.Get(\"arrows.\" & ArrowIndex & \".nodes.\" & JsonLevel.CurrentKey & \".x\"))\n"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 968512139448566,
													"parameters": {
														"variable": "NodeY",
														"value": "int(JsonLevel.Get(\"arrows.\" & ArrowIndex & \".nodes.\" & JsonLevel.CurrentKey & \".y\"))\n"
													}
												}
											],
											"sid": 456664145932564,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 218108862665408,
															"parameters": {
																"first-value": "nodeCount",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 943103141639640,
															"parameters": {
																"object-to-create": "snake_head",
																"layer": "\"Snakes\"",
																"x": "((ViewportLeft(0)+ViewportRight(0))/2 - (GridW*(int(TileSize)+Spacing))/2) + NodeX*(int(TileSize)+Spacing) + OffsetX\r\n",
																"y": "((ViewportTop(0)+ViewportBottom(0))/2 - (GridH*(int(TileSize)+Spacing))/2) + NodeY*(int(TileSize)+Spacing) + OffsetY\n",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 498047763157845,
															"parameters": {
																"instance-variable": "OwnerID",
																"value": "ArrowIndex"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 816609744422289,
															"parameters": {
																"instance-variable": "GridX",
																"value": "NodeX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 226923624623947,
															"parameters": {
																"instance-variable": "GridY",
																"value": "NodeY"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 345569914052089,
															"parameters": {
																"variable": "headX",
																"value": "NodeX"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 126364868048025,
															"parameters": {
																"variable": "headY",
																"value": "NodeY"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 750199185705615,
															"parameters": {
																"type": "log",
																"message": "\"Created HEAD OwnerID=\" & snake_head.OwnerID &\n            \" Grid=(\" & snake_head.GridX & \",\" & snake_head.GridY & \")\""
															}
														}
													],
													"sid": 581107391516684,
													"children": [
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 408070408691736,
																	"parameters": {
																		"object-to-create": "UI_head_snake",
																		"layer": "\"Snakes\"",
																		"x": "snake_head.X",
																		"y": "snake_head.Y",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 980322639674496,
																	"parameters": {
																		"object-to-create": "UI_snake_eye",
																		"layer": "\"Snakes\"",
																		"x": "0",
																		"y": "0",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "UI_snake_eye",
																	"sid": 418570960560285,
																	"parameters": {
																		"instance-variable": "OwnerID",
																		"value": "ArrowIndex"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "UI_head_snake",
																	"sid": 718268610228503,
																	"parameters": {
																		"instance-variable": "OwnerID",
																		"value": "ArrowIndex"
																	}
																}
															],
															"sid": 897196808220818
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 823340068123606
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 541540251173016,
															"parameters": {
																"object-to-create": "snake_body",
																"layer": "\"Snakes\"",
																"x": "((ViewportLeft(0)+ViewportRight(0))/2 - (GridW*(int(TileSize)+Spacing))/2) + NodeX*(int(TileSize)+Spacing) + OffsetX\r\n",
																"y": "((ViewportTop(0)+ViewportBottom(0))/2 - (GridH*(int(TileSize)+Spacing))/2) + NodeY*(int(TileSize)+Spacing) + OffsetY\r\n",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 690203580928941,
															"parameters": {
																"instance-variable": "NodeIndex",
																"value": "int(JsonLevel.CurrentKey)"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 603869584146965,
															"parameters": {
																"instance-variable": "OwnerID",
																"value": "ArrowIndex"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 369461754885699,
															"parameters": {
																"instance-variable": "GridX",
																"value": "NodeX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 882776269093166,
															"parameters": {
																"instance-variable": "GridY",
																"value": "NodeY"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 318306825806225,
															"parameters": {
																"instance-variable": "isDiagonalBody",
																"value": "0"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 133961887651909,
															"parameters": {
																"variable": "tailX",
																"value": "NodeX"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 984232787302714,
															"parameters": {
																"variable": "tailY",
																"value": "NodeY"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 132641532067147,
															"parameters": {
																"variable": "tailUID",
																"value": "snake_body.UID"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 224582001440329,
															"parameters": {
																"type": "log",
																"message": "\"Created BODY OwnerID=\" & snake_body.OwnerID &\n            \" Grid=(\" & snake_body.GridX & \",\" & snake_body.GridY & \")\""
															}
														}
													],
													"sid": 498098431053511,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 210951968373301,
																	"parameters": {
																		"object": "snake_body"
																	}
																}
															],
															"actions": [],
															"sid": 326959940136894,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 255456940451994,
																			"parameters": {
																				"first-value": "snake_body.OwnerID",
																				"comparison": 0,
																				"second-value": "ArrowIndex"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 134122510098574,
																			"parameters": {
																				"variable": "MaxNodeIndex",
																				"value": "max(MaxNodeIndex, snake_body.NodeIndex)"
																			}
																		}
																	],
																	"sid": 251363183611343
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [],
															"sid": 837306454953197
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 838477513311942,
													"parameters": {
														"first-value": "nodeCount",
														"comparison": 0,
														"second-value": "2"
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 834865383813343,
													"disabled": true,
													"parameters": {
														"first-value": "nodeCount",
														"comparison": 0,
														"second-value": "3"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 379696645837923,
													"parameters": {
														"variable": "totalNodes",
														"value": "max(abs(tailX - headX), abs(tailY - headY)) + 1"
													}
												}
											],
											"sid": 772262805221246,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-by-unique-id",
															"objectClass": "snake_body",
															"sid": 133723952093055,
															"parameters": {
																"unique-id": "tailUID"
															}
														}
													],
													"actions": [
														{
															"id": "destroy",
															"objectClass": "snake_body",
															"sid": 901038144995697
														}
													],
													"sid": 760125385512726
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 844426968900981,
															"parameters": {
																"name": "\"fillIndex\"",
																"start-index": "1",
																"end-index": "totalNodes - 1"
															}
														}
													],
													"actions": [],
													"sid": 555154804618666,
													"children": [
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 457791163525393,
																	"parameters": {
																		"variable": "currentX",
																		"value": " headX + round((tailX - headX) * loopindex(\"fillIndex\") / (totalNodes - 1))"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 874483816260432,
																	"parameters": {
																		"variable": "currentY",
																		"value": " headY + round((tailY - headY) * loopindex(\"fillIndex\") / (totalNodes - 1))"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 659038732925887,
																	"parameters": {
																		"variable": "pixelX",
																		"value": "((ViewportLeft(0)+ViewportRight(0))/2 - (GridW*(int(TileSize)+Spacing))/2) + currentX*(int(TileSize)+Spacing) + OffsetX"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 259687565079655,
																	"parameters": {
																		"variable": "pixelY",
																		"value": "((ViewportTop(0)+ViewportBottom(0))/2 - (GridH*(int(TileSize)+Spacing))/2) + currentY*(int(TileSize)+Spacing) + OffsetY"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 669478186836527,
																	"disabled": true,
																	"parameters": {
																		"type": "log",
																		"message": "\"Creating body at loop \" & loopindex(\"fillIndex\") & \", NodeIndex will be: \" & loopindex(\"fillIndex\")"
																	}
																},
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 199767152404101,
																	"parameters": {
																		"object-to-create": "snake_body",
																		"layer": "\"Snakes\"",
																		"x": "pixelX",
																		"y": "pixelY",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 794690379591742,
																	"parameters": {
																		"instance-variable": "NodeIndex",
																		"value": "loopindex(\"fillIndex\")"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 660748107291354,
																	"parameters": {
																		"instance-variable": "OwnerID",
																		"value": "ArrowIndex"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 420895778365047,
																	"parameters": {
																		"instance-variable": "GridX",
																		"value": "currentX"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 478935888699969,
																	"parameters": {
																		"instance-variable": "GridY",
																		"value": "currentY"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 170887219835214,
																	"parameters": {
																		"instance-variable": "isDiagonalBody",
																		"value": "1"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 426553454127228,
																	"parameters": {
																		"type": "log",
																		"message": "\"Created HEAD OwnerID=\" & snake_head.OwnerID &\n            \" Grid=(\" & snake_head.GridX & \",\" & snake_head.GridY & \")\""
																	}
																}
															],
															"sid": 336489541254162
														}
													]
												}
											],
											"isOrBlock": true
										}
									]
								}
							]
						},
						{
							"functionName": "UpdateGridDot",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 865570678627753,
							"children": [
								{
									"eventType": "variable",
									"name": "tempMatch",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 703820540741760
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 547119400576244,
											"parameters": {
												"object": "Grid_Dot"
											}
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 173585113119499,
											"disabled": true,
											"parameters": {
												"type": "log",
												"message": "\"Checking Grid_Dot (\" & Grid_Dot.GridX & \",\" & Grid_Dot.GridY & \")\""
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 375193448184965,
											"parameters": {
												"variable": "tempMatch",
												"value": "0"
											}
										}
									],
									"sid": 726595916478800,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 479291224284236,
													"parameters": {
														"object": "snake_head"
													}
												}
											],
											"actions": [],
											"sid": 489261619161803,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 441284147013731,
															"parameters": {
																"first-value": "Grid_Dot.GridX ",
																"comparison": 0,
																"second-value": "snake_head.GridX"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 506144000112780,
															"parameters": {
																"first-value": "Grid_Dot.GridY",
																"comparison": 0,
																"second-value": "snake_head.GridY"
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 459125170407656,
															"parameters": {
																"variable": "tempMatch",
																"value": "1"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 496105676939306,
															"disabled": true,
															"parameters": {
																"type": "log",
																"message": "\"MATCH FOUND! tempMatch = 1\""
															}
														}
													],
													"sid": 681341711331969
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 161950515381298,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 579374346193767,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for-each",
															"objectClass": "System",
															"sid": 431185686492121,
															"parameters": {
																"object": "snake_head"
															}
														}
													],
													"actions": [],
													"sid": 522083500548785,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 975537786800067,
																	"parameters": {
																		"first-value": "snake_head.OwnerID",
																		"comparison": 0,
																		"second-value": "snake_body.OwnerID"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 260233862574419,
																	"parameters": {
																		"first-value": "snake_body.isDiagonalBody",
																		"comparison": 0,
																		"second-value": "0"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 269726972891053,
																	"parameters": {
																		"first-value": "Grid_Dot.GridX ",
																		"comparison": 0,
																		"second-value": "snake_body.GridX"
																	}
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 663371426383963,
																	"parameters": {
																		"first-value": "Grid_Dot.GridY",
																		"comparison": 0,
																		"second-value": "snake_body.GridY"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 608334462265349,
																	"parameters": {
																		"variable": "tempMatch",
																		"value": "1"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 198611362787830,
																	"disabled": true,
																	"parameters": {
																		"type": "log",
																		"message": "\"MATCH FOUND! tempMatch = 1\""
																	}
																}
															],
															"sid": 529343160565711
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 562333123581351,
													"parameters": {
														"first-value": "tempMatch",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "set-visible",
													"objectClass": "Grid_Dot",
													"sid": 912540597959790,
													"parameters": {
														"visibility": "visible"
													}
												}
											],
											"sid": 274632248161084
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 153191801469277
												}
											],
											"actions": [
												{
													"id": "set-visible",
													"objectClass": "Grid_Dot",
													"sid": 643003247896992,
													"parameters": {
														"visibility": "invisible"
													}
												}
											],
											"sid": 383672366308953
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-any-playing",
									"objectClass": "snake_head",
									"sid": 667524714896978,
									"behaviorType": "Tween"
								}
							],
							"actions": [],
							"sid": 516969741546340,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 300146044881525,
											"parameters": {
												"object": "UI_head_snake"
											}
										}
									],
									"actions": [],
									"sid": 591519697420554,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "snake_head",
													"sid": 210166006931367,
													"parameters": {
														"instance-variable": "OwnerID",
														"comparison": 0,
														"value": "UI_head_snake.OwnerID"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "UI_head_snake",
													"sid": 724532917948723,
													"parameters": {
														"x": "snake_head.X",
														"y": "snake_head.Y"
													}
												},
												{
													"id": "set-angle",
													"objectClass": "UI_head_snake",
													"sid": 523258357310312,
													"parameters": {
														"angle": "snake_head.Angle"
													}
												}
											],
											"sid": 729701993612123
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 837562659420910,
											"parameters": {
												"object": "UI_snake_eye"
											}
										}
									],
									"actions": [],
									"sid": 670618199108792,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "UI_head_snake",
													"sid": 742962324109560,
													"parameters": {
														"instance-variable": "OwnerID",
														"comparison": 0,
														"value": "UI_snake_eye.OwnerID"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "UI_snake_eye",
													"sid": 402819441274109,
													"parameters": {
														"x": "UI_head_snake.X + cos(UI_head_snake.Angle) * MapOffsetX",
														"y": "UI_head_snake.Y + sin(UI_head_snake.Angle) * MapOffsetY"
													}
												},
												{
													"id": "set-angle",
													"objectClass": "UI_snake_eye",
													"sid": 491710840304674,
													"parameters": {
														"angle": "UI_head_snake.Angle"
													}
												}
											],
											"sid": 318823075937310
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 186706342486315
								}
							],
							"actions": [],
							"sid": 346724384669376,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 876270381273964,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 326415489529276,
											"parameters": {
												"color": "rgbEx(255, 0, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 290263637236322,
											"parameters": {
												"color": "rgbEx(255, 0, 0)"
											}
										}
									],
									"sid": 375228403130147
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 429392077241355,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 456362779348860,
											"parameters": {
												"color": "rgbEx(0, 255, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 472299623701571,
											"parameters": {
												"color": "rgbEx(0, 255, 0)"
											}
										}
									],
									"sid": 699193744297415
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 542257635471031,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "2"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 991406916322963,
											"parameters": {
												"color": "rgbEx(0, 0, 255)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 179724895047618,
											"parameters": {
												"color": "rgbEx(0, 0, 255)"
											}
										}
									],
									"sid": 981185072619036
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 559289084252010,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 921458604862329,
											"parameters": {
												"color": "rgbEx(255, 255, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 265967793258165,
											"parameters": {
												"color": "rgbEx(255, 255, 0)"
											}
										}
									],
									"sid": 706970491089340
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 267268093510434,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "4"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 673038250375702,
											"parameters": {
												"color": "rgbEx(100, 0, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 887668466876733,
											"parameters": {
												"color": "rgbEx(100, 0, 0)"
											}
										}
									],
									"sid": 325157831576261
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 505221863589370,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 668378022037884,
											"parameters": {
												"color": "rgbEx(0, 100, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 862524512059977,
											"parameters": {
												"color": "rgbEx(0, 100, 0)"
											}
										}
									],
									"sid": 908827581858027
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_body",
											"sid": 292669335703895,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "6"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_body",
											"sid": 314674289615190,
											"parameters": {
												"color": "rgbEx(100, 100, 0)"
											}
										},
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 558706930912611,
											"parameters": {
												"color": "rgbEx(100, 100, 0)"
											}
										}
									],
									"sid": 655048510077155
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 961357237068214
								}
							],
							"actions": [],
							"sid": 850301026254339,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 372899563370138,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 726655834088299,
											"parameters": {
												"color": "rgbEx(255, 0, 0)"
											}
										}
									],
									"sid": 836477808265115
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 364399597306602,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 692885303863603,
											"parameters": {
												"color": "rgbEx(0, 255, 0)"
											}
										}
									],
									"sid": 189794381017254
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 625920961847864,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "2"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 280990529161985,
											"parameters": {
												"color": "rgbEx(0, 0, 255)"
											}
										}
									],
									"sid": 608610430483672
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 700574442886702,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 939520874354528,
											"parameters": {
												"color": "rgbEx(255, 255, 0)"
											}
										}
									],
									"sid": 215981482607385
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 659718345566035,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "4"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 857772663061293,
											"parameters": {
												"color": "rgbEx(100, 0, 0)"
											}
										}
									],
									"sid": 720442752399541
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 768355538569352,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 893968812335644,
											"parameters": {
												"color": "rgbEx(0, 100, 0)"
											}
										}
									],
									"sid": 688227402029464
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "snake_head",
											"sid": 641870419958635,
											"parameters": {
												"instance-variable": "OwnerID",
												"comparison": 0,
												"value": "6"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "snake_head",
											"sid": 930635071586308,
											"parameters": {
												"color": "rgbEx(100, 100, 0)"
											}
										}
									],
									"sid": 898334031503246
								}
							]
						}
					],
					"sid": 161037751883584
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Event_Touch",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "bumpDistance",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 207453163115684
						},
						{
							"eventType": "variable",
							"name": "bumpX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 961866271324634
						},
						{
							"eventType": "variable",
							"name": "bumpY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 989790169996010
						},
						{
							"eventType": "variable",
							"name": "activeHeadOwnerID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 997896561260419
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap-object",
									"objectClass": "Touch",
									"sid": 860566509120650,
									"parameters": {
										"object": "snake_head"
									}
								}
							],
							"actions": [],
							"sid": 171738422951573,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "snake_head",
											"sid": 132198869993392,
											"parameters": {
												"instance-variable": "IsCollision"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 966078149916377,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-playing",
													"objectClass": "snake_body",
													"sid": 449355903640834,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"collision_pullback\""
													},
													"isInverted": true
												}
											],
											"actions": [],
											"sid": 701760185285454,
											"children": [
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 368803387617304,
															"parameters": {
																"variable": "IsTimerRunning",
																"value": "1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 887076218377039,
															"parameters": {
																"instance-variable": "isActive",
																"value": "1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 257254879372824,
															"parameters": {
																"instance-variable": "HasBlocker",
																"value": "0"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 713921508141995,
															"parameters": {
																"instance-variable": "HasCheckpoint",
																"value": "0"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 525394654661477,
															"parameters": {
																"instance-variable": "CaseType",
																"value": "0"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 845365739070021,
															"parameters": {
																"instance-variable": "isEscaping",
																"value": "0"
															}
														}
													],
													"sid": 669636384725615,
													"children": [
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 108849079170080,
																	"parameters": {
																		"instance-variable": "NextGridX",
																		"value": "snake_head.GridX"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_head",
																	"sid": 531518130284834,
																	"parameters": {
																		"instance-variable": "NextGridY",
																		"value": "snake_head.GridY"
																	}
																}
															],
															"sid": 995823094475981,
															"children": [
																{
																	"eventType": "comment",
																	"text": "Case 1 — Body ở dưới head → head quay lên"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 850815983242276,
																			"parameters": {
																				"first-value": "snake_head.Dir",
																				"comparison": 0,
																				"second-value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 207031170411035,
																			"parameters": {
																				"instance-variable": "NextGridY",
																				"value": "snake_head.NextGridY - 1"
																			}
																		}
																	],
																	"sid": 216061048407047
																},
																{
																	"eventType": "comment",
																	"text": "Case 2 — Body ở trái head → head quay phải"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 506805100635579,
																			"parameters": {
																				"first-value": "snake_head.Dir",
																				"comparison": 0,
																				"second-value": "1"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 828881435700937,
																			"parameters": {
																				"instance-variable": "NextGridX",
																				"value": "snake_head.NextGridX + 1"
																			}
																		}
																	],
																	"sid": 494069288674955
																},
																{
																	"eventType": "comment",
																	"text": "Case 3 — Body ở trên head → head quay xuống"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 779677543084508,
																			"parameters": {
																				"first-value": "snake_head.Dir",
																				"comparison": 0,
																				"second-value": "2"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 262098684660937,
																			"parameters": {
																				"instance-variable": "NextGridY",
																				"value": "snake_head.NextGridY + 1"
																			}
																		}
																	],
																	"sid": 435827222344518
																},
																{
																	"eventType": "comment",
																	"text": "Case 4 — Body ở phải head → head quay trái"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 391558455158598,
																			"parameters": {
																				"first-value": "snake_head.Dir",
																				"comparison": 0,
																				"second-value": "3"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 969403950323239,
																			"parameters": {
																				"instance-variable": "NextGridX",
																				"value": "snake_head.NextGridX - 1"
																			}
																		}
																	],
																	"sid": 858973640043044
																},
																{
																	"eventType": "comment",
																	"text": "Case 5 — Body ở trái-dưới → Head quay phải-lên (↗)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 212489848014746,
																			"parameters": {
																				"first-value": "snake_head.Dir",
																				"comparison": 0,
																				"second-value": "4"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 665017115865735,
																			"parameters": {
																				"instance-variable": "NextGridX",
																				"value": "snake_head.NextGridX + 1"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 402834045482640,
																			"parameters": {
																				"instance-variable": "NextGridY",
																				"value": "snake_head.NextGridY - 1"
																			}
																		}
																	],
																	"sid": 899571200678483
																},
																{
																	"eventType": "comment",
																	"text": "Case 6 — Body ở phải-dưới → Head quay trái-lên (↖)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 793381744640766,
																			"parameters": {
																				"first-value": "snake_head.Dir",
																				"comparison": 0,
																				"second-value": "5"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 783663943278815,
																			"parameters": {
																				"instance-variable": "NextGridX",
																				"value": "snake_head.NextGridX - 1"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 852657847901729,
																			"parameters": {
																				"instance-variable": "NextGridY",
																				"value": "snake_head.NextGridY - 1"
																			}
																		}
																	],
																	"sid": 603733907480877
																},
																{
																	"eventType": "comment",
																	"text": "Case 7 — Body ở trái-trên → Head quay phải-xuống (↘)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 153544680094485,
																			"parameters": {
																				"first-value": "snake_head.Dir",
																				"comparison": 0,
																				"second-value": "6"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 306231218919329,
																			"parameters": {
																				"instance-variable": "NextGridX",
																				"value": "snake_head.NextGridX + 1"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 769006063106052,
																			"parameters": {
																				"instance-variable": "NextGridY",
																				"value": "snake_head.NextGridY + 1"
																			}
																		}
																	],
																	"sid": 942534136200638
																},
																{
																	"eventType": "comment",
																	"text": "Case 8 — Body ở phải-trên → Head quay trái-xuống (↙)"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 932726474682488,
																			"parameters": {
																				"first-value": "snake_head.Dir",
																				"comparison": 0,
																				"second-value": "7"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 573643971676965,
																			"parameters": {
																				"instance-variable": "NextGridX",
																				"value": "snake_head.NextGridX - 1"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 636499467686191,
																			"parameters": {
																				"instance-variable": "NextGridY",
																				"value": "snake_head.NextGridY + 1"
																			}
																		}
																	],
																	"sid": 630770969711717
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 464341456974658,
																			"parameters": {
																				"first-value": "snake_head.NextGridX",
																				"comparison": 2,
																				"second-value": "0"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 236747725951077,
																			"parameters": {
																				"first-value": "snake_head.NextGridX",
																				"comparison": 5,
																				"second-value": "GridW"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 984945241928859,
																			"parameters": {
																				"first-value": "snake_head.NextGridY",
																				"comparison": 2,
																				"second-value": "0"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 327449694807553,
																			"parameters": {
																				"first-value": "snake_head.NextGridY",
																				"comparison": 5,
																				"second-value": "GridH"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 563704588602639,
																			"parameters": {
																				"instance-variable": "CaseType",
																				"value": "1"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 224525152256788,
																			"parameters": {
																				"instance-variable": "isEscaping",
																				"value": "1"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 645348606236903,
																			"parameters": {
																				"type": "log",
																				"message": "\"TH1: ESCAPE! Head ra khỏi grid\""
																			}
																		}
																	],
																	"sid": 667933904233784,
																	"isOrBlock": true
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 206234882225417,
																			"parameters": {
																				"first-value": "snake_head.CaseType",
																				"comparison": 0,
																				"second-value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 641820889051165,
																			"parameters": {
																				"variable": "activeHeadOwnerID",
																				"value": "snake_head.OwnerID"
																			}
																		}
																	],
																	"sid": 773595991201283,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "for-each",
																					"objectClass": "System",
																					"sid": 731316059264479,
																					"parameters": {
																						"object": "snake_head"
																					}
																				}
																			],
																			"actions": [],
																			"sid": 391329226368891,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 320001777157727,
																							"parameters": {
																								"first-value": "snake_head.OwnerID",
																								"comparison": 1,
																								"second-value": "activeHeadOwnerID"
																							}
																						},
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 252622902378840,
																							"parameters": {
																								"first-value": "snake_head.isActive",
																								"comparison": 0,
																								"second-value": "0"
																							}
																						},
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 595844446446050,
																							"parameters": {
																								"first-value": "snake_head.GridX",
																								"comparison": 0,
																								"second-value": "snake_head.NextGridX"
																							}
																						},
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 426485142055925,
																							"parameters": {
																								"first-value": "snake_head.GridY",
																								"comparison": 0,
																								"second-value": "snake_head.NextGridY"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 895697654099701,
																							"parameters": {
																								"instance-variable": "HasBlocker",
																								"value": "1"
																							}
																						},
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 482480037622824,
																							"parameters": {
																								"instance-variable": "CaseType",
																								"value": "2"
																							}
																						},
																						{
																							"id": "log",
																							"objectClass": "Browser",
																							"sid": 175667854317770,
																							"parameters": {
																								"type": "log",
																								"message": "\"TH2: BLOCKED by other head!\"\n"
																							}
																						}
																					],
																					"sid": 994758401386224
																				}
																			]
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "for-each",
																					"objectClass": "System",
																					"sid": 788919813419240,
																					"parameters": {
																						"object": "snake_body"
																					}
																				}
																			],
																			"actions": [],
																			"sid": 887029683477020,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 523837209205951,
																							"parameters": {
																								"first-value": "snake_body.OwnerID",
																								"comparison": 1,
																								"second-value": "snake_head.OwnerID"
																							}
																						},
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 805256741339780,
																							"parameters": {
																								"first-value": "snake_body.GridX",
																								"comparison": 0,
																								"second-value": "snake_head.NextGridX"
																							}
																						},
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 485964852709473,
																							"parameters": {
																								"first-value": "snake_body.GridY",
																								"comparison": 0,
																								"second-value": "snake_head.NextGridY"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 975914121368736,
																							"parameters": {
																								"instance-variable": "HasBlocker",
																								"value": "1"
																							}
																						},
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 914952431269151,
																							"parameters": {
																								"instance-variable": "CaseType",
																								"value": "2"
																							}
																						},
																						{
																							"id": "log",
																							"objectClass": "Browser",
																							"sid": 606568307676194,
																							"parameters": {
																								"type": "log",
																								"message": "\"TH2: BLOCKED by other body!\"\n"
																							}
																						}
																					],
																					"sid": 114925618513981
																				}
																			]
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "for-each",
																					"objectClass": "System",
																					"sid": 464720876755330,
																					"parameters": {
																						"object": "checkpoint"
																					}
																				}
																			],
																			"actions": [],
																			"sid": 429500883651881,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 951027806607183,
																							"parameters": {
																								"first-value": "checkpoint.GridX",
																								"comparison": 0,
																								"second-value": "snake_head.NextGridX "
																							}
																						},
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 629344157693076,
																							"parameters": {
																								"first-value": "checkpoint.GridY",
																								"comparison": 0,
																								"second-value": "snake_head.NextGridY"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 483784782266213,
																							"parameters": {
																								"instance-variable": "HasCheckpoint",
																								"value": "1"
																							}
																						},
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 391422992468340,
																							"parameters": {
																								"instance-variable": "CaseType",
																								"value": "3"
																							}
																						},
																						{
																							"id": "set-instvar-value",
																							"objectClass": "checkpoint",
																							"sid": 464906279860262,
																							"parameters": {
																								"instance-variable": "isTarget",
																								"value": "1"
																							}
																						},
																						{
																							"id": "log",
																							"objectClass": "Browser",
																							"sid": 394631207500701,
																							"parameters": {
																								"type": "log",
																								"message": "\"TH3: MOVE to checkpoint!\""
																							}
																						}
																					],
																					"sid": 177732814661202
																				}
																			]
																		}
																	]
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 204965732008136,
																			"parameters": {
																				"first-value": "snake_head.CaseType",
																				"comparison": 0,
																				"second-value": "1"
																			}
																		}
																	],
																	"actions": [
																		{
																			"callFunction": "TH1: SnakeEscapeEdge",
																			"sid": 781080345258173
																		}
																	],
																	"sid": 211168132545727
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 591030301265030,
																			"parameters": {
																				"first-value": "snake_head.HasCheckpoint",
																				"comparison": 0,
																				"second-value": "1"
																			}
																		}
																	],
																	"actions": [
																		{
																			"callFunction": "TH3: MoveToCheckpoint",
																			"sid": 365667274042825
																		}
																	],
																	"sid": 505700085461894
																}
															]
														}
													]
												}
											]
										}
									]
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap-object",
									"objectClass": "Touch",
									"sid": 637098627150189,
									"parameters": {
										"object": "snake_body"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 413499580370716,
									"parameters": {
										"variable": "ActiveOwnerID",
										"value": "snake_body.OwnerID"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "snake_head",
									"sid": 664318218275487,
									"parameters": {
										"instance-variable": "TapGridX",
										"value": "snake_body.GridX"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "snake_head",
									"sid": 953739819940346,
									"parameters": {
										"instance-variable": "TapGridY",
										"value": "snake_body.GridY"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 316697284616541,
									"parameters": {
										"variable": "HasTap",
										"value": "true"
									}
								}
							],
							"sid": 120101196635385
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 796587418944772,
									"parameters": {
										"object": "snake_head"
									}
								}
							],
							"actions": [],
							"sid": 779752525871571,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 866143871917848,
											"parameters": {
												"variable": "HasTap"
											}
										}
									],
									"actions": [],
									"sid": 571839456391137,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 493027600843957,
													"parameters": {
														"first-value": "snake_head.OwnerID",
														"comparison": 0,
														"second-value": "ActiveOwnerID"
													}
												}
											],
											"actions": [],
											"sid": 306404837587037,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "snake_head",
															"sid": 327056961021889,
															"parameters": {
																"instance-variable": "IsCollision"
															},
															"isInverted": true
														}
													],
													"actions": [],
													"sid": 703316658805677,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-playing",
																	"objectClass": "snake_body",
																	"sid": 418286883945541,
																	"behaviorType": "Tween",
																	"parameters": {
																		"tags": "\"collision_pullback\""
																	},
																	"isInverted": true
																}
															],
															"actions": [],
															"sid": 809689061097622,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "snake_head",
																			"sid": 216733587862331,
																			"parameters": {
																				"instance-variable": "isBlocked"
																			},
																			"isInverted": true
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "snake_head",
																			"sid": 889372021929416,
																			"parameters": {
																				"instance-variable": "isActive",
																				"comparison": 0,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 604229722029586,
																			"parameters": {
																				"variable": "IsTimerRunning",
																				"value": "1"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 136207400534865,
																			"parameters": {
																				"instance-variable": "isActive",
																				"value": "1"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 663846179980444,
																			"parameters": {
																				"instance-variable": "HasBlocker",
																				"value": "0"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 941458416904843,
																			"parameters": {
																				"instance-variable": "HasCheckpoint",
																				"value": "0"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 304621975859185,
																			"parameters": {
																				"instance-variable": "CaseType",
																				"value": "0"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 818452628486006,
																			"parameters": {
																				"instance-variable": "isEscaping",
																				"value": "0"
																			}
																		},
																		{
																			"id": "set-boolean-eventvar",
																			"objectClass": "System",
																			"sid": 418428040621269,
																			"parameters": {
																				"variable": "HasTap",
																				"value": "false"
																			}
																		}
																	],
																	"sid": 482416405619562,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [],
																			"actions": [
																				{
																					"id": "set-instvar-value",
																					"objectClass": "snake_head",
																					"sid": 955058483166846,
																					"parameters": {
																						"instance-variable": "NextGridX",
																						"value": "snake_head.GridX"
																					}
																				},
																				{
																					"id": "set-instvar-value",
																					"objectClass": "snake_head",
																					"sid": 478528796545500,
																					"parameters": {
																						"instance-variable": "NextGridY",
																						"value": "snake_head.GridY"
																					}
																				}
																			],
																			"sid": 661771213399316,
																			"children": [
																				{
																					"eventType": "comment",
																					"text": "Case 1 — Body ở dưới head → head quay lên"
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 884584178672590,
																							"parameters": {
																								"first-value": "snake_head.Dir",
																								"comparison": 0,
																								"second-value": "0"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 154390154709289,
																							"parameters": {
																								"instance-variable": "NextGridY",
																								"value": "snake_head.NextGridY - 1"
																							}
																						}
																					],
																					"sid": 894671475571616
																				},
																				{
																					"eventType": "comment",
																					"text": "Case 2 — Body ở trái head → head quay phải"
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 575673426692731,
																							"parameters": {
																								"first-value": "snake_head.Dir",
																								"comparison": 0,
																								"second-value": "1"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 806703185919435,
																							"parameters": {
																								"instance-variable": "NextGridX",
																								"value": "snake_head.NextGridX + 1"
																							}
																						}
																					],
																					"sid": 408341213715237
																				},
																				{
																					"eventType": "comment",
																					"text": "Case 3 — Body ở trên head → head quay xuống"
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 229022119389408,
																							"parameters": {
																								"first-value": "snake_head.Dir",
																								"comparison": 0,
																								"second-value": "2"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 393237925845917,
																							"parameters": {
																								"instance-variable": "NextGridY",
																								"value": "snake_head.NextGridY + 1"
																							}
																						}
																					],
																					"sid": 113586048790315
																				},
																				{
																					"eventType": "comment",
																					"text": "Case 4 — Body ở phải head → head quay trái"
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 213884098867055,
																							"parameters": {
																								"first-value": "snake_head.Dir",
																								"comparison": 0,
																								"second-value": "3"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 758183297499089,
																							"parameters": {
																								"instance-variable": "NextGridX",
																								"value": "snake_head.NextGridX - 1"
																							}
																						}
																					],
																					"sid": 513078930696007
																				},
																				{
																					"eventType": "comment",
																					"text": "Case 5 — Body ở trái-dưới → Head quay phải-lên (↗)"
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 395583918631920,
																							"parameters": {
																								"first-value": "snake_head.Dir",
																								"comparison": 0,
																								"second-value": "4"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 198057817411686,
																							"parameters": {
																								"instance-variable": "NextGridX",
																								"value": "snake_head.NextGridX + 1"
																							}
																						},
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 576793850491717,
																							"parameters": {
																								"instance-variable": "NextGridY",
																								"value": "snake_head.NextGridY - 1"
																							}
																						}
																					],
																					"sid": 704094916825964
																				},
																				{
																					"eventType": "comment",
																					"text": "Case 6 — Body ở phải-dưới → Head quay trái-lên (↖)"
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 491257919912512,
																							"parameters": {
																								"first-value": "snake_head.Dir",
																								"comparison": 0,
																								"second-value": "5"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 298697258598442,
																							"parameters": {
																								"instance-variable": "NextGridX",
																								"value": "snake_head.NextGridX - 1"
																							}
																						},
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 431001813025150,
																							"parameters": {
																								"instance-variable": "NextGridY",
																								"value": "snake_head.NextGridY - 1"
																							}
																						}
																					],
																					"sid": 214253624459727
																				},
																				{
																					"eventType": "comment",
																					"text": "Case 7 — Body ở trái-trên → Head quay phải-xuống (↘)"
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 766357410310150,
																							"parameters": {
																								"first-value": "snake_head.Dir",
																								"comparison": 0,
																								"second-value": "6"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 978283990920846,
																							"parameters": {
																								"instance-variable": "NextGridX",
																								"value": "snake_head.NextGridX + 1"
																							}
																						},
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 106918054106453,
																							"parameters": {
																								"instance-variable": "NextGridY",
																								"value": "snake_head.NextGridY + 1"
																							}
																						}
																					],
																					"sid": 862784365521759
																				},
																				{
																					"eventType": "comment",
																					"text": "Case 8 — Body ở phải-trên → Head quay trái-xuống (↙)"
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 396799577392424,
																							"parameters": {
																								"first-value": "snake_head.Dir",
																								"comparison": 0,
																								"second-value": "7"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 544104591465283,
																							"parameters": {
																								"instance-variable": "NextGridX",
																								"value": "snake_head.NextGridX - 1"
																							}
																						},
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 935352999288517,
																							"parameters": {
																								"instance-variable": "NextGridY",
																								"value": "snake_head.NextGridY + 1"
																							}
																						}
																					],
																					"sid": 858107114619661
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 181752671248015,
																							"parameters": {
																								"first-value": "snake_head.NextGridX",
																								"comparison": 2,
																								"second-value": "0"
																							}
																						},
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 450074098153872,
																							"parameters": {
																								"first-value": "snake_head.NextGridX",
																								"comparison": 5,
																								"second-value": "GridW"
																							}
																						},
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 983275202254020,
																							"parameters": {
																								"first-value": "snake_head.NextGridY",
																								"comparison": 2,
																								"second-value": "0"
																							}
																						},
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 226654691998560,
																							"parameters": {
																								"first-value": "snake_head.NextGridY",
																								"comparison": 5,
																								"second-value": "GridH"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 951484354359187,
																							"parameters": {
																								"instance-variable": "CaseType",
																								"value": "1"
																							}
																						},
																						{
																							"id": "set-instvar-value",
																							"objectClass": "snake_head",
																							"sid": 395047786438978,
																							"parameters": {
																								"instance-variable": "isEscaping",
																								"value": "1"
																							}
																						},
																						{
																							"id": "log",
																							"objectClass": "Browser",
																							"sid": 277100341254117,
																							"parameters": {
																								"type": "log",
																								"message": "\"TH1: ESCAPE! Head ra khỏi grid\""
																							}
																						}
																					],
																					"sid": 588273679021196,
																					"isOrBlock": true
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 598965830092780,
																							"parameters": {
																								"first-value": "snake_head.CaseType",
																								"comparison": 0,
																								"second-value": "0"
																							}
																						}
																					],
																					"actions": [
																						{
																							"id": "set-eventvar-value",
																							"objectClass": "System",
																							"sid": 568404581149860,
																							"parameters": {
																								"variable": "activeHeadOwnerID",
																								"value": "snake_head.OwnerID"
																							}
																						}
																					],
																					"sid": 534919180912672,
																					"children": [
																						{
																							"eventType": "block",
																							"conditions": [
																								{
																									"id": "for-each",
																									"objectClass": "System",
																									"sid": 431076768640349,
																									"parameters": {
																										"object": "snake_head"
																									}
																								}
																							],
																							"actions": [],
																							"sid": 184089124189016,
																							"children": [
																								{
																									"eventType": "block",
																									"conditions": [
																										{
																											"id": "compare-two-values",
																											"objectClass": "System",
																											"sid": 411970756536872,
																											"parameters": {
																												"first-value": "snake_head.OwnerID",
																												"comparison": 1,
																												"second-value": "activeHeadOwnerID"
																											}
																										},
																										{
																											"id": "compare-two-values",
																											"objectClass": "System",
																											"sid": 322301188430179,
																											"parameters": {
																												"first-value": "snake_head.isActive",
																												"comparison": 0,
																												"second-value": "0"
																											}
																										},
																										{
																											"id": "compare-two-values",
																											"objectClass": "System",
																											"sid": 727825159173890,
																											"parameters": {
																												"first-value": "snake_head.GridX",
																												"comparison": 0,
																												"second-value": "snake_head.NextGridX"
																											}
																										},
																										{
																											"id": "compare-two-values",
																											"objectClass": "System",
																											"sid": 326069212370666,
																											"parameters": {
																												"first-value": "snake_head.GridY",
																												"comparison": 0,
																												"second-value": "snake_head.NextGridY"
																											}
																										}
																									],
																									"actions": [
																										{
																											"id": "set-instvar-value",
																											"objectClass": "snake_head",
																											"sid": 112740751327773,
																											"parameters": {
																												"instance-variable": "HasBlocker",
																												"value": "1"
																											}
																										},
																										{
																											"id": "set-instvar-value",
																											"objectClass": "snake_head",
																											"sid": 175986061990218,
																											"parameters": {
																												"instance-variable": "CaseType",
																												"value": "2"
																											}
																										},
																										{
																											"id": "log",
																											"objectClass": "Browser",
																											"sid": 149580949975046,
																											"parameters": {
																												"type": "log",
																												"message": "\"TH2: BLOCKED by other head!\"\n"
																											}
																										}
																									],
																									"sid": 776894707450484
																								}
																							]
																						},
																						{
																							"eventType": "block",
																							"conditions": [
																								{
																									"id": "for-each",
																									"objectClass": "System",
																									"sid": 636325128962364,
																									"parameters": {
																										"object": "snake_body"
																									}
																								}
																							],
																							"actions": [],
																							"sid": 538883702012179,
																							"children": [
																								{
																									"eventType": "block",
																									"conditions": [
																										{
																											"id": "compare-two-values",
																											"objectClass": "System",
																											"sid": 345252429489116,
																											"parameters": {
																												"first-value": "snake_body.OwnerID",
																												"comparison": 1,
																												"second-value": "snake_head.OwnerID"
																											}
																										},
																										{
																											"id": "compare-two-values",
																											"objectClass": "System",
																											"sid": 242563147639414,
																											"parameters": {
																												"first-value": "snake_body.GridX",
																												"comparison": 0,
																												"second-value": "snake_head.NextGridX"
																											}
																										},
																										{
																											"id": "compare-two-values",
																											"objectClass": "System",
																											"sid": 162655058107090,
																											"parameters": {
																												"first-value": "snake_body.GridY",
																												"comparison": 0,
																												"second-value": "snake_head.NextGridY"
																											}
																										}
																									],
																									"actions": [
																										{
																											"id": "set-instvar-value",
																											"objectClass": "snake_head",
																											"sid": 723222291703040,
																											"parameters": {
																												"instance-variable": "HasBlocker",
																												"value": "1"
																											}
																										},
																										{
																											"id": "set-instvar-value",
																											"objectClass": "snake_head",
																											"sid": 566174894048866,
																											"parameters": {
																												"instance-variable": "CaseType",
																												"value": "2"
																											}
																										},
																										{
																											"id": "log",
																											"objectClass": "Browser",
																											"sid": 317835592145813,
																											"parameters": {
																												"type": "log",
																												"message": "\"TH2: BLOCKED by other body!\"\n"
																											}
																										}
																									],
																									"sid": 962330885141324
																								}
																							]
																						},
																						{
																							"eventType": "block",
																							"conditions": [
																								{
																									"id": "for-each",
																									"objectClass": "System",
																									"sid": 393206207899619,
																									"parameters": {
																										"object": "checkpoint"
																									}
																								}
																							],
																							"actions": [],
																							"sid": 577414569188876,
																							"children": [
																								{
																									"eventType": "block",
																									"conditions": [
																										{
																											"id": "compare-two-values",
																											"objectClass": "System",
																											"sid": 469137868509107,
																											"parameters": {
																												"first-value": "checkpoint.GridX",
																												"comparison": 0,
																												"second-value": "snake_head.NextGridX "
																											}
																										},
																										{
																											"id": "compare-two-values",
																											"objectClass": "System",
																											"sid": 466563680870163,
																											"parameters": {
																												"first-value": "checkpoint.GridY",
																												"comparison": 0,
																												"second-value": "snake_head.NextGridY"
																											}
																										}
																									],
																									"actions": [
																										{
																											"id": "set-instvar-value",
																											"objectClass": "snake_head",
																											"sid": 996382145743707,
																											"parameters": {
																												"instance-variable": "HasCheckpoint",
																												"value": "1"
																											}
																										},
																										{
																											"id": "set-instvar-value",
																											"objectClass": "snake_head",
																											"sid": 693644769489577,
																											"parameters": {
																												"instance-variable": "CaseType",
																												"value": "3"
																											}
																										},
																										{
																											"id": "set-instvar-value",
																											"objectClass": "checkpoint",
																											"sid": 413063018101006,
																											"parameters": {
																												"instance-variable": "isTarget",
																												"value": "1"
																											}
																										},
																										{
																											"id": "log",
																											"objectClass": "Browser",
																											"sid": 823606573730400,
																											"parameters": {
																												"type": "log",
																												"message": "\"TH3: MOVE to checkpoint!\""
																											}
																										}
																									],
																									"sid": 684848204854718
																								}
																							]
																						}
																					]
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 813835860458185,
																							"parameters": {
																								"first-value": "snake_head.CaseType",
																								"comparison": 0,
																								"second-value": "1"
																							}
																						}
																					],
																					"actions": [
																						{
																							"callFunction": "TH1: SnakeEscapeEdge",
																							"sid": 841761210406290
																						}
																					],
																					"sid": 918005323750596
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "compare-two-values",
																							"objectClass": "System",
																							"sid": 448183779107543,
																							"parameters": {
																								"first-value": "snake_head.HasCheckpoint",
																								"comparison": 0,
																								"second-value": "1"
																							}
																						}
																					],
																					"actions": [
																						{
																							"callFunction": "TH3: MoveToCheckpoint",
																							"sid": 409088230109639
																						}
																					],
																					"sid": 240620297229928
																				}
																			]
																		}
																	]
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "TH1: Head on edge grid"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "snake_body",
									"sid": 853036467465491,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"move\""
									}
								}
							],
							"actions": [
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 371252037179521,
									"parameters": {
										"type": "log",
										"message": "\"Body \" & snake_body.NodeIndex & \" arrived\""
									}
								}
							],
							"sid": 495843559764116,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-nearestfurthest",
											"objectClass": "checkpoint",
											"sid": 518724323288842,
											"parameters": {
												"which": "nearest",
												"x": "snake_body.X",
												"y": "snake_body.Y"
											}
										}
									],
									"actions": [],
									"sid": 697530790357500,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_body",
													"sid": 480553834474948,
													"parameters": {
														"instance-variable": "GridX",
														"value": "checkpoint.GridX"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_body",
													"sid": 869438051375327,
													"parameters": {
														"instance-variable": "GridY",
														"value": "checkpoint.GridY"
													}
												},
												{
													"id": "add-key",
													"objectClass": "Dic_BodyPrevPos",
													"sid": 217488235192001,
													"parameters": {
														"key": "str(snake_body.NodeIndex) & \"_X\"",
														"value": "checkpoint.GridX"
													}
												},
												{
													"id": "add-key",
													"objectClass": "Dic_BodyPrevPos",
													"sid": 290601562500676,
													"parameters": {
														"key": "str(snake_body.NodeIndex) & \"_Y\"",
														"value": "checkpoint.GridY"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 186251580516911,
													"parameters": {
														"type": "log",
														"message": "\"Body \" & snake_body.NodeIndex & \" updated position to (\" & checkpoint.GridX & \",\" & checkpoint.GridY & \") and SAVED to Dictionary\""
													}
												}
											],
											"sid": 453601182130874
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 184645487852034,
											"parameters": {
												"object": "snake_head"
											}
										}
									],
									"actions": [],
									"sid": 722760976600928,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 248128652454296,
													"parameters": {
														"first-value": "snake_head.OwnerID",
														"comparison": 0,
														"second-value": "snake_body.OwnerID"
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 247512605785355,
													"parameters": {
														"first-value": "snake_head.isEscaping",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [],
											"sid": 382633503224966,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 106046920660559,
															"parameters": {
																"first-value": "snake_body.GridX",
																"comparison": 0,
																"second-value": "snake_head.PrevGridX"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 370570940986071,
															"parameters": {
																"first-value": "snake_body.GridY",
																"comparison": 0,
																"second-value": "snake_head.PrevGridY"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 575438769347161,
															"parameters": {
																"instance-variable": "isEscaping",
																"value": "1"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 818424205312411,
															"parameters": {
																"variable": "EscapeDuration",
																"value": "10 - (snake_body.NodeIndex * 0.8)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 145902583550628,
															"parameters": {
																"variable": "EscapeDuration",
																"value": "max(EscapeDuration, 9.4)"
															}
														},
														{
															"id": "tween-two-properties",
															"objectClass": "snake_body",
															"sid": 416790982516797,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"body_escape\"",
																"property": "position",
																"end-x": "snake_body.X + cos(snake_head.Angle - 90) * 2000",
																"end-y": "snake_body.Y + sin(snake_head.Angle - 90) * 2000",
																"time": "EscapeDuration",
																"ease": "noease",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 127011437047491,
															"parameters": {
																"type": "log",
																"message": "\"Body \" & snake_body.NodeIndex & \" ESCAPING!\""
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 473921706274905,
															"parameters": {
																"seconds": "(snake_body.NodeIndex - 1) * 0.25",
																"use-timescale": true
															}
														}
													],
													"sid": 541691121693362
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 819446329545602
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 355962640900354,
															"parameters": {
																"variable": "nextTargetX",
																"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_X\"))"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 674664969223581,
															"parameters": {
																"variable": "nextTargetY",
																"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_Y\"))"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 102787380501307,
															"parameters": {
																"type": "log",
																"message": "\"Body \" & snake_body.NodeIndex & \" will continue to (\" & nextTargetX & \",\" & nextTargetY & \")\""
															}
														}
													],
													"sid": 974335725144199,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 857183785689198,
																	"parameters": {
																		"object": "checkpoint"
																	}
																}
															],
															"actions": [],
															"sid": 770770296678686,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 544060423518321,
																			"parameters": {
																				"first-value": "checkpoint.GridX",
																				"comparison": 0,
																				"second-value": "nextTargetX"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 960482024541397,
																			"parameters": {
																				"first-value": "checkpoint.GridY",
																				"comparison": 0,
																				"second-value": "nextTargetY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "tween-two-properties",
																			"objectClass": "snake_body",
																			"sid": 401209503826568,
																			"behaviorType": "Tween",
																			"parameters": {
																				"tags": "\"move\"",
																				"property": "position",
																				"end-x": "checkpoint.X",
																				"end-y": "checkpoint.Y",
																				"time": "0.25",
																				"ease": "noease",
																				"destroy-on-complete": "no",
																				"loop": "no",
																				"ping-pong": "no",
																				"repeat-count": "1"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 995890662549449,
																			"parameters": {
																				"type": "log",
																				"message": "\"Body \" & snake_body.NodeIndex & \" CONTINUING to (\" & checkpoint.GridX & \",\" & checkpoint.GridY & \")\""
																			}
																		}
																	],
																	"sid": 398826732568058
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "comment",
							"text": "TH2: Head blocked by other head or body"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "snake_head",
									"sid": 753095506827644,
									"parameters": {
										"object": "snake_body"
									}
								}
							],
							"actions": [],
							"sid": 208827615624748,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-playing",
											"objectClass": "snake_head",
											"sid": 923346390866014,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"head_move_checkpoint\""
											}
										},
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 464832454782369,
											"parameters": {
												"first-value": "snake_head.OwnerID",
												"comparison": 1,
												"second-value": "snake_body.OwnerID"
											}
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 527167710095785,
											"parameters": {
												"type": "log",
												"message": " \"COLLISION DETECTED! Stopping movement...\""
											}
										},
										{
											"callFunction": "TH2: SnakeBlocked",
											"sid": 963646679400723
										},
										{
											"callFunction": "LoseLife",
											"sid": 894378752865051
										}
									],
									"sid": 920529071057280
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "snake_head",
									"sid": 624034286328333,
									"parameters": {
										"object": "snake_head"
									}
								}
							],
							"actions": [],
							"sid": 146900339940504,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 823799806423206,
											"parameters": {
												"first-value": "snake_head.OwnerID",
												"comparison": 0,
												"second-value": "snake_head.OwnerID"
											}
										},
										{
											"id": "is-playing",
											"objectClass": "snake_head",
											"sid": 930249488971114,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"head_move_checkpoint\""
											}
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 335602521517078,
											"parameters": {
												"type": "log",
												"message": " \"COLLISION DETECTED! Stopping movement...\""
											}
										},
										{
											"callFunction": "TH2: SnakeBlocked",
											"sid": 375384306893826
										},
										{
											"callFunction": "LoseLife",
											"sid": 992644974674721
										}
									],
									"sid": 934592732745041
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "snake_head",
									"sid": 192431365682742,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"collision_pullback\""
									}
								}
							],
							"actions": [],
							"sid": 224431212696160,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "snake_head",
											"sid": 746284994318605,
											"parameters": {
												"instance-variable": "IsCollision",
												"value": "false"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "snake_head",
											"sid": 309323550715144,
											"parameters": {
												"instance-variable": "isBlocked",
												"value": "false"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 115906268721873,
											"parameters": {
												"instance-variable": "isActive",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 459563118751965,
											"parameters": {
												"instance-variable": "CaseType",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 863412666770741,
											"parameters": {
												"instance-variable": "HasCheckpoint",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 937042846890114,
											"parameters": {
												"instance-variable": "GridX",
												"value": "snake_head.PrevGridX"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 372447121648904,
											"parameters": {
												"instance-variable": "GridY",
												"value": "snake_head.PrevGridY"
											}
										},
										{
											"id": "set-position",
											"objectClass": "snake_head",
											"sid": 947520525684474,
											"parameters": {
												"x": "snake_head.PrevX",
												"y": "snake_head.PrevY"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 232486560979273,
											"parameters": {
												"type": "log",
												"message": "\"Collision pullback complete. Stopped.\""
											}
										}
									],
									"sid": 733452449169794,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 931207732548725,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 815175735758045,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 485912436279950,
															"parameters": {
																"first-value": "snake_body.OwnerID",
																"comparison": 0,
																"second-value": "snake_head.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "stop-all-tweens",
															"objectClass": "snake_body",
															"sid": 421672236303585,
															"behaviorType": "Tween"
														},
														{
															"id": "tween-two-properties",
															"objectClass": "snake_body",
															"sid": 277700903478174,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"collision_pullback\"",
																"property": "position",
																"end-x": "snake_body.PrevX",
																"end-y": "snake_body.PrevY",
																"time": "0.2",
																"ease": "noease",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 874940426128274,
															"parameters": {
																"type": "log",
																"message": "\"Body \" & snake_body.NodeIndex & \" pulling back to (\" &  snake_body.PrevX & \",\" & snake_body.PrevY & \")\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 458680389899540,
															"parameters": {
																"instance-variable": "GridX",
																"value": "snake_body.PrevGridX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 607475725817805,
															"parameters": {
																"instance-variable": "GridY",
																"value": "snake_body.PrevGridY"
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 169625651966576,
															"parameters": {
																"seconds": "0.2",
																"use-timescale": true
															}
														}
													],
													"sid": 604247939325562
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "comment",
							"text": "TH3: Head is not blocked and will move to the edge of grid or blocked by other head or body"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "snake_head",
									"sid": 481845370520719,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"head_move_checkpoint\""
									}
								}
							],
							"actions": [],
							"sid": 956914607063016,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-position",
											"objectClass": "snake_head",
											"sid": 342045620219649,
											"parameters": {
												"x": "round(snake_head.X)",
												"y": "round(snake_head.Y)"
											}
										},
										{
											"id": "add-key",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 839921372328046,
											"parameters": {
												"key": "\"0_X\"",
												"value": "snake_head.GridX"
											}
										},
										{
											"id": "add-key",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 874652047685358,
											"parameters": {
												"key": "\"0_Y\"",
												"value": "snake_head.GridY"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 960215156881540,
											"parameters": {
												"type": "log",
												"message": "\"HEAD arrived at checkpoint (\" & snake_head.GridX & \",\" & snake_head.GridY & \")\""
											}
										}
									],
									"sid": 825690683622043,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 553321713655236,
													"parameters": {
														"instance-variable": "NextGridX",
														"value": "snake_head.GridX"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 570543233008960,
													"parameters": {
														"instance-variable": "NextGridY",
														"value": "snake_head.GridY"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "snake_head",
													"sid": 389190973789764,
													"parameters": {
														"instance-variable": "CaseType",
														"value": "0"
													}
												}
											],
											"sid": 890695966470911,
											"children": [
												{
													"eventType": "comment",
													"text": "Case 1 — Body ở dưới head → head quay lên"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 594212110177072,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "0"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 409121408195731,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY - 1"
															}
														}
													],
													"sid": 218692960496835
												},
												{
													"eventType": "comment",
													"text": "Case 2 — Body ở trái head → head quay phải"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 952240685845242,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 970747893386065,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX + 1"
															}
														}
													],
													"sid": 116769543582899
												},
												{
													"eventType": "comment",
													"text": "Case 3 — Body ở trên head → head quay xuống"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 139580526484245,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "2"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 977505832964583,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY + 1"
															}
														}
													],
													"sid": 211269581380993
												},
												{
													"eventType": "comment",
													"text": "Case 4 — Body ở phải head → head quay trái"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 608852240155875,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "3"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 674710953915715,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX - 1"
															}
														}
													],
													"sid": 941082633500960
												},
												{
													"eventType": "comment",
													"text": "Case 5 — Body ở trái-dưới → Head quay phải-lên (↗)"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 629846295659915,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "4"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 239241396648702,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX + 1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 429419096575455,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY - 1"
															}
														}
													],
													"sid": 897092826305870
												},
												{
													"eventType": "comment",
													"text": "Case 6 — Body ở phải-dưới → Head quay trái-lên (↖)"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 368774706226586,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "5"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 993389125158924,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX - 1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 789907192943479,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY - 1"
															}
														}
													],
													"sid": 618136343112136
												},
												{
													"eventType": "comment",
													"text": "Case 7 — Body ở trái-trên → Head quay phải-xuống (↘)"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 317608001723760,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "6"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 162727551757831,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX + 1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 603980864886082,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY + 1"
															}
														}
													],
													"sid": 357580929155257
												},
												{
													"eventType": "comment",
													"text": "Case 8 — Body ở phải-trên → Head quay trái-xuống (↙)"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 102049660618413,
															"parameters": {
																"first-value": "snake_head.Dir",
																"comparison": 0,
																"second-value": "7"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 786928635546851,
															"parameters": {
																"instance-variable": "NextGridX",
																"value": "snake_head.NextGridX - 1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 771105051121644,
															"parameters": {
																"instance-variable": "NextGridY",
																"value": "snake_head.NextGridY + 1"
															}
														}
													],
													"sid": 453736661056219
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 348580783282923,
															"parameters": {
																"first-value": "snake_head.NextGridX",
																"comparison": 2,
																"second-value": "0"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 449237049403842,
															"parameters": {
																"first-value": "snake_head.NextGridX",
																"comparison": 5,
																"second-value": "GridW"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 664028894798793,
															"parameters": {
																"first-value": "snake_head.NextGridY",
																"comparison": 2,
																"second-value": "0"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 235530818723822,
															"parameters": {
																"first-value": "snake_head.NextGridY",
																"comparison": 5,
																"second-value": "GridH"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 256237228068859,
															"parameters": {
																"instance-variable": "CaseType",
																"value": "1"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 983177702934361,
															"parameters": {
																"instance-variable": "isEscaping",
																"value": "1"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 467150859136041,
															"parameters": {
																"type": "log",
																"message": "\"HEAD reached edge → Will ESCAPE!\""
															}
														}
													],
													"sid": 862237488137952,
													"isOrBlock": true
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 851598463504795,
															"parameters": {
																"first-value": "snake_head.CaseType",
																"comparison": 0,
																"second-value": "0"
															}
														}
													],
													"actions": [],
													"sid": 725584438276881,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 645141201936302,
																	"parameters": {
																		"object": "snake_head"
																	}
																}
															],
															"actions": [],
															"sid": 332833189147136,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 671565257062384,
																			"parameters": {
																				"first-value": "snake_head.OwnerID",
																				"comparison": 1,
																				"second-value": "activeHeadOwnerID"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 114933084274524,
																			"parameters": {
																				"first-value": "snake_head.isActive",
																				"comparison": 0,
																				"second-value": "0"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 892669707325327,
																			"parameters": {
																				"first-value": "snake_head.GridX",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridX"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 825336407072502,
																			"parameters": {
																				"first-value": "snake_head.GridY",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 897078982499852,
																			"parameters": {
																				"instance-variable": "HasBlocker",
																				"value": "1"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 102447781870880,
																			"parameters": {
																				"instance-variable": "CaseType",
																				"value": "2"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 979992404993435,
																			"parameters": {
																				"type": "log",
																				"message": "\"TH2: BLOCKED by other head!\"\n"
																			}
																		}
																	],
																	"sid": 492217834191388
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 615388146128830,
																	"parameters": {
																		"object": "snake_body"
																	}
																}
															],
															"actions": [],
															"sid": 443350757590974,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 918681430814150,
																			"parameters": {
																				"first-value": "snake_body.GridX",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridX"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 108347306085741,
																			"parameters": {
																				"first-value": "snake_body.GridY",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridY"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 428076418891127,
																			"parameters": {
																				"first-value": "snake_body.OwnerID",
																				"comparison": 1,
																				"second-value": "snake_head.OwnerID"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 151249333800356,
																			"parameters": {
																				"instance-variable": "CaseType",
																				"value": "2"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 924696020230933,
																			"parameters": {
																				"type": "log",
																				"message": "\"BLOCKED by body!\""
																			}
																		}
																	],
																	"sid": 483534047845952
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 974905747592243,
																	"parameters": {
																		"object": "checkpoint"
																	}
																}
															],
															"actions": [],
															"sid": 933194559634018,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 969986870774850,
																			"parameters": {
																				"first-value": "checkpoint.GridX",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridX"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 923682272919280,
																			"parameters": {
																				"first-value": "checkpoint.GridY",
																				"comparison": 0,
																				"second-value": "snake_head.NextGridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 440809871895451,
																			"parameters": {
																				"instance-variable": "CaseType",
																				"value": "3"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "snake_head",
																			"sid": 106543337132399,
																			"parameters": {
																				"instance-variable": "HasCheckpoint",
																				"value": "1"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 766686434467394,
																			"parameters": {
																				"type": "log",
																				"message": "\"Checkpoint ahead → CONTINUE!\""
																			}
																		}
																	],
																	"sid": 478665225251811
																}
															]
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 575971989452824,
															"parameters": {
																"first-value": "snake_head.CaseType",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 535016592059245,
															"parameters": {
																"type": "log",
																"message": "\"Triggering ESCAPE sequence...\""
															}
														},
														{
															"callFunction": "TH1: SnakeEscapeEdge",
															"sid": 190816160202128
														}
													],
													"sid": 655458810236330
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 456966129774043,
															"parameters": {
																"first-value": "snake_head.CaseType",
																"comparison": 0,
																"second-value": "3"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 820574431758400,
															"parameters": {
																"first-value": "snake_head.HasCheckpoint",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 529834745605004,
															"parameters": {
																"type": "log",
																"message": "\"AUTO CONTINUE!\""
															}
														},
														{
															"callFunction": "TH3: MoveToCheckpoint",
															"sid": 929391716981275
														}
													],
													"sid": 518567722363425
												}
											]
										}
									]
								}
							]
						},
						{
							"functionName": "TH1: SnakeEscapeEdge",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 908193735912637,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 199186180855785,
											"parameters": {
												"instance-variable": "PrevX",
												"value": "snake_head.X"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 149462176279238,
											"parameters": {
												"instance-variable": "PrevY",
												"value": "snake_head.Y"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 555876089351327,
											"parameters": {
												"instance-variable": "PrevGridX",
												"value": "snake_head.GridX"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 293362075040236,
											"parameters": {
												"instance-variable": "PrevGridY",
												"value": "snake_head.GridY"
											}
										},
										{
											"id": "clear",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 829725722922090
										},
										{
											"id": "add-key",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 123749974743810,
											"parameters": {
												"key": "\"0_X\"",
												"value": "snake_head.PrevGridX"
											}
										},
										{
											"id": "add-key",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 474762920106990,
											"parameters": {
												"key": "\"0_Y\"",
												"value": "snake_head.PrevGridY"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 974859046473695,
											"parameters": {
												"variable": "EscapeDuration",
												"value": "10 - (snake_body.NodeIndex * 0.4)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 289842013540766,
											"parameters": {
												"variable": "EscapeDuration",
												"value": "max(EscapeDuration, 9)"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "snake_head",
											"sid": 672509868619647,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"head_escape\"",
												"property": "position",
												"end-x": "snake_head.X + cos(snake_head.Angle - 90) * 2000",
												"end-y": "snake_head.Y + sin(snake_head.Angle - 90) * 2000",
												"time": "EscapeDuration",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 198514764499569,
											"parameters": {
												"type": "log",
												"message": "\"Head escaping...\""
											}
										}
									],
									"sid": 559818573661852,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 784518434891700,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 735103596293191,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 480673165069615,
															"parameters": {
																"first-value": "snake_body.OwnerID",
																"comparison": 0,
																"second-value": "snake_head.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 644111036339452,
															"parameters": {
																"instance-variable": "PrevX",
																"value": "snake_body.X"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 781049872897593,
															"parameters": {
																"instance-variable": "PrevY",
																"value": "snake_body.Y"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 363023567253222,
															"parameters": {
																"instance-variable": "PrevGridX",
																"value": "snake_body.GridX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 167594607484509,
															"parameters": {
																"instance-variable": "PrevGridY",
																"value": "snake_body.GridY"
															}
														},
														{
															"id": "add-key",
															"objectClass": "Dic_BodyPrevPos",
															"sid": 649837634749438,
															"parameters": {
																"key": "str(snake_body.NodeIndex) & \"_X\"",
																"value": "snake_body.PrevGridX"
															}
														},
														{
															"id": "add-key",
															"objectClass": "Dic_BodyPrevPos",
															"sid": 598799235797549,
															"parameters": {
																"key": "str(snake_body.NodeIndex) & \"_Y\"",
																"value": "snake_body.PrevGridY"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 834113439074365,
															"parameters": {
																"type": "log",
																"message": "\"Saved Body \" & snake_body.NodeIndex & \" pos: \" & snake_body.PrevGridX & \",\" & snake_body.PrevGridY"
															}
														}
													],
													"sid": 447387803516946,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 684361839005211,
																	"parameters": {
																		"first-value": "snake_body.NodeIndex",
																		"comparison": 0,
																		"second-value": "1"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 486586139873421,
																	"parameters": {
																		"instance-variable": "GridX",
																		"value": "snake_head.PrevGridX"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 710450618832804,
																	"parameters": {
																		"instance-variable": "GridY",
																		"value": "snake_head.PrevGridY"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 741831917267937,
																	"parameters": {
																		"type": "log",
																		"message": "\"Body 1 GridPos set to: \" & snake_body.GridX & \",\" & snake_body.GridY"
																	}
																}
															],
															"sid": 635734477060389
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 259479715988577
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 867753605326173,
																	"parameters": {
																		"variable": "targetX",
																		"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_X\"))"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 570404048930654,
																	"parameters": {
																		"variable": "targetY",
																		"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_Y\"))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 977345674088267,
																	"parameters": {
																		"instance-variable": "GridX",
																		"value": "targetX"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "snake_body",
																	"sid": 742684060152387,
																	"parameters": {
																		"instance-variable": "GridY",
																		"value": "targetY"
																	}
																},
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 469444345189789,
																	"parameters": {
																		"type": "log",
																		"message": "\"Body \" & snake_body.NodeIndex & \" GridPos set to: \" & snake_body.GridX & \",\" & snake_body.GridY"
																	}
																}
															],
															"sid": 846006877916206
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 514315196718099,
																	"parameters": {
																		"object": "checkpoint"
																	}
																}
															],
															"actions": [],
															"sid": 207145013404427,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 750730325875431,
																			"parameters": {
																				"first-value": "checkpoint.GridX",
																				"comparison": 0,
																				"second-value": "snake_body.GridX"
																			}
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 291548750429262,
																			"parameters": {
																				"first-value": "checkpoint.GridY",
																				"comparison": 0,
																				"second-value": "snake_body.GridY"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "tween-two-properties",
																			"objectClass": "snake_body",
																			"sid": 279856095986286,
																			"behaviorType": "Tween",
																			"parameters": {
																				"tags": "\"move\"",
																				"property": "position",
																				"end-x": "checkpoint.X",
																				"end-y": "checkpoint.Y",
																				"time": "0.125",
																				"ease": "noease",
																				"destroy-on-complete": "no",
																				"loop": "no",
																				"ping-pong": "no",
																				"repeat-count": "1"
																			}
																		},
																		{
																			"id": "log",
																			"objectClass": "Browser",
																			"sid": 789641080284030,
																			"parameters": {
																				"type": "log",
																				"message": "\"Body \" & snake_body.NodeIndex & \" moving to checkpoint at (\" & checkpoint.GridX & \",\" & checkpoint.GridY & \")\""
																			}
																		}
																	],
																	"sid": 966747045506867
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"functionName": "TH2: SnakeBlocked",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 318845037066394,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "snake_head",
											"sid": 785749166272623,
											"parameters": {
												"instance-variable": "IsCollision",
												"value": "true"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "snake_head",
											"sid": 777419617527821,
											"parameters": {
												"instance-variable": "isBlocked",
												"value": "true"
											}
										},
										{
											"id": "stop-all-tweens",
											"objectClass": "snake_head",
											"sid": 212521047429568,
											"behaviorType": "Tween"
										},
										{
											"id": "stop-all-tweens",
											"objectClass": "UI_redaura",
											"sid": 198457696903032,
											"behaviorType": "Tween"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 488678024758099,
											"parameters": {
												"instance-variable": "CaseType",
												"value": "2"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "snake_head",
											"sid": 851262552871580,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"collision_pullback\"",
												"property": "position",
												"end-x": " snake_head.PrevX",
												"end-y": " snake_head.PrevY",
												"time": "0.2",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "UI_redaura",
											"sid": 226015138874974,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"warning_open\"",
												"property": "offsetOpacity",
												"end-value": "100",
												"time": "0.1",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 381004108059848,
											"parameters": {
												"type": "log",
												"message": "\"HEAD pulling back from collision...\""
											}
										}
									],
									"sid": 110106723102436,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 750064283608222,
													"parameters": {
														"seconds": "0.5",
														"use-timescale": true
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "UI_redaura",
													"sid": 105656688748083,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"warning_close\"",
														"property": "offsetOpacity",
														"end-value": "0",
														"time": "0.5",
														"ease": "noease",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 568601103480850
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 820959646430952,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 682841999882687,
											"disabled": true,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 300193427497230,
															"parameters": {
																"first-value": "snake_body.OwnerID",
																"comparison": 0,
																"second-value": "snake_head.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "snake_body",
															"sid": 526303352983868,
															"parameters": {
																"instance-variable": "isBlocked",
																"value": "true"
															}
														},
														{
															"id": "stop-tweens",
															"objectClass": "snake_body",
															"sid": 680683299702721,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"body_move_checkpoint\""
															}
														},
														{
															"id": "tween-two-properties",
															"objectClass": "snake_body",
															"sid": 708036482656199,
															"disabled": true,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"collision_pullback\"",
																"property": "position",
																"end-x": "snake_body.PrevX",
																"end-y": "snake_body.PrevY",
																"time": "0.2",
																"ease": "noease",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														}
													],
													"sid": 961520758742826,
													"disabled": true
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 512800257573607,
											"parameters": {
												"object": "snake_body"
											}
										}
									],
									"actions": [],
									"sid": 278176655887425,
									"disabled": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 688826498704001,
													"parameters": {
														"first-value": "snake_body.OwnerID",
														"comparison": 0,
														"second-value": "snake_head.OwnerID"
													}
												}
											],
											"actions": [
												{
													"id": "tween-two-properties",
													"objectClass": "snake_body",
													"sid": 249016064727146,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"collision_pullback\"",
														"property": "position",
														"end-x": "snake_body.PrevX",
														"end-y": "snake_body.PrevY",
														"time": "0.2",
														"ease": "noease",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 409773699887161,
													"parameters": {
														"type": "log",
														"message": "\"Body \" & snake_body.NodeIndex & \" pulling back to (\" &  snake_body.PrevX & \",\" & snake_body.PrevY & \")\""
													}
												}
											],
											"sid": 525664928046681,
											"disabled": true
										}
									]
								}
							]
						},
						{
							"functionName": "TH3: MoveToCheckpoint",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 496632190013723,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 939293188168368,
											"parameters": {
												"instance-variable": "HasCheckpoint",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 871497809464476,
											"parameters": {
												"instance-variable": "PrevX",
												"value": "snake_head.X"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 523527445657396,
											"parameters": {
												"instance-variable": "PrevY",
												"value": "snake_head.Y"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 105541162323896,
											"parameters": {
												"instance-variable": "PrevGridX",
												"value": "snake_head.GridX"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "snake_head",
											"sid": 813671952220296,
											"parameters": {
												"instance-variable": "PrevGridY",
												"value": "snake_head.GridY"
											}
										},
										{
											"id": "clear",
											"objectClass": "Dic_BodyPrevPos",
											"sid": 673046899729036
										}
									],
									"sid": 722395125161878,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 363923241972906,
													"parameters": {
														"object": "snake_body"
													}
												}
											],
											"actions": [],
											"sid": 425153301643413,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 133576387434119,
															"parameters": {
																"first-value": "snake_body.OwnerID",
																"comparison": 0,
																"second-value": "snake_head.OwnerID"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 639664469225560,
															"parameters": {
																"instance-variable": "PrevGridX",
																"value": "snake_body.GridX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 851390226054303,
															"parameters": {
																"instance-variable": "PrevGridY",
																"value": "snake_body.GridY"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 298690179071172,
															"parameters": {
																"instance-variable": "PrevX",
																"value": "snake_body.X"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_body",
															"sid": 658574242636628,
															"parameters": {
																"instance-variable": "PrevY",
																"value": "snake_body.Y"
															}
														},
														{
															"id": "add-key",
															"objectClass": "Dic_BodyPrevPos",
															"sid": 945038794446880,
															"parameters": {
																"key": "str(snake_body.NodeIndex) & \"_X\"",
																"value": "snake_body.GridX"
															}
														},
														{
															"id": "add-key",
															"objectClass": "Dic_BodyPrevPos",
															"sid": 931661683378754,
															"parameters": {
																"key": "str(snake_body.NodeIndex) & \"_Y\"",
																"value": "snake_body.GridY"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 305556719660454,
															"parameters": {
																"type": "log",
																"message": "\"Body \" & snake_body.NodeIndex & \" saved GridPos\"\r\n"
															}
														}
													],
													"sid": 575586370902000,
													"children": [
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 525529099354136,
																	"parameters": {
																		"variable": "targetX",
																		"value": "0"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 946585187758964,
																	"parameters": {
																		"variable": "targetY",
																		"value": "0"
																	}
																}
															],
															"sid": 545492662878442,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 323282686971328,
																			"parameters": {
																				"first-value": "snake_body.NodeIndex",
																				"comparison": 0,
																				"second-value": "1"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 406395332864840,
																			"parameters": {
																				"variable": "targetX",
																				"value": "snake_head.PrevGridX\n"
																			}
																		},
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 538035904826042,
																			"parameters": {
																				"variable": "targetY",
																				"value": "snake_head.PrevGridY\n"
																			}
																		}
																	],
																	"sid": 275963373201595
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 698363240222469
																		}
																	],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 758463157457402,
																			"parameters": {
																				"variable": "targetX",
																				"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_X\"))\n"
																			}
																		},
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 227768514546708,
																			"parameters": {
																				"variable": "targetY",
																				"value": "int(Dic_BodyPrevPos.Get(str(snake_body.NodeIndex - 1) & \"_Y\"))"
																			}
																		}
																	],
																	"sid": 998730444194822
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "for-each",
																			"objectClass": "System",
																			"sid": 115718449726556,
																			"parameters": {
																				"object": "checkpoint"
																			}
																		}
																	],
																	"actions": [],
																	"sid": 553491279054896,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "compare-two-values",
																					"objectClass": "System",
																					"sid": 635504877433122,
																					"parameters": {
																						"first-value": "checkpoint.GridX ",
																						"comparison": 0,
																						"second-value": "targetX"
																					}
																				},
																				{
																					"id": "compare-two-values",
																					"objectClass": "System",
																					"sid": 290675198098076,
																					"parameters": {
																						"first-value": "checkpoint.GridY",
																						"comparison": 0,
																						"second-value": "targetY"
																					}
																				}
																			],
																			"actions": [
																				{
																					"id": "set-instvar-value",
																					"objectClass": "snake_body",
																					"sid": 781202161538773,
																					"parameters": {
																						"instance-variable": "GridX",
																						"value": "targetX"
																					}
																				},
																				{
																					"id": "set-instvar-value",
																					"objectClass": "snake_body",
																					"sid": 699945032015169,
																					"parameters": {
																						"instance-variable": "GridY",
																						"value": "targetY"
																					}
																				},
																				{
																					"id": "tween-two-properties",
																					"objectClass": "snake_body",
																					"sid": 152295649796023,
																					"behaviorType": "Tween",
																					"parameters": {
																						"tags": "\"body_move_checkpoint\"",
																						"property": "position",
																						"end-x": "checkpoint.X",
																						"end-y": "checkpoint.Y",
																						"time": "0.2",
																						"ease": "noease",
																						"destroy-on-complete": "no",
																						"loop": "no",
																						"ping-pong": "no",
																						"repeat-count": "1"
																					}
																				}
																			],
																			"sid": 886423740070938
																		}
																	]
																}
															]
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 697475907286534,
													"parameters": {
														"object": "checkpoint"
													}
												}
											],
											"actions": [],
											"sid": 813283804989530,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 813998933033658,
															"parameters": {
																"first-value": "checkpoint.GridX ",
																"comparison": 0,
																"second-value": "snake_head.NextGridX"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 604749755460313,
															"parameters": {
																"first-value": "checkpoint.GridY",
																"comparison": 0,
																"second-value": "snake_head.NextGridY"
															}
														}
													],
													"actions": [
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 394583061784288,
															"parameters": {
																"type": "log",
																"message": "\"✓ FOUND checkpoint for HEAD!\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 348713804928338,
															"parameters": {
																"instance-variable": "GridX",
																"value": "snake_head.NextGridX"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "snake_head",
															"sid": 179219220619790,
															"parameters": {
																"instance-variable": "GridY",
																"value": "snake_head.NextGridY"
															}
														},
														{
															"id": "tween-two-properties",
															"objectClass": "snake_head",
															"sid": 893509559305817,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"head_move_checkpoint\"",
																"property": "position",
																"end-x": "checkpoint.X",
																"end-y": "checkpoint.Y",
																"time": "0.2",
																"ease": "noease",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														},
														{
															"id": "log",
															"objectClass": "Browser",
															"sid": 505592105732067,
															"parameters": {
																"type": "log",
																"message": "\"Checking checkpoint at (\" & checkpoint.GridX & \",\" & checkpoint.GridY & \") vs target (\" & snake_head.NextGridX & \",\" & snake_head.NextGridY & \")\""
															}
														}
													],
													"sid": 912118551665149
												}
											]
										}
									]
								}
							]
						}
					],
					"sid": 675651775942849
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Time_Level",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 462178663642448,
									"parameters": {
										"interval-seconds": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "text_time",
									"sid": 201869453266939,
									"parameters": {
										"text": "zeropad(floor(TimeRemaining / 60), 2) & \":\" & zeropad(TimeRemaining % 60, 2)"
									}
								}
							],
							"sid": 655254648835363,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 163819575047577,
											"parameters": {
												"first-value": "TimeRemaining",
												"comparison": 4,
												"second-value": "0"
											}
										},
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 498985220586805,
											"parameters": {
												"first-value": "IsTimerRunning",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "subtract-from-eventvar",
											"objectClass": "System",
											"sid": 823200227725089,
											"parameters": {
												"variable": "TimeRemaining",
												"value": "1"
											}
										}
									],
									"sid": 724860124895867
								}
							]
						}
					],
					"sid": 536342940732395
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Score",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "CoinCount",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 377481621054480
						},
						{
							"eventType": "variable",
							"name": "BaseX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 636916791386031
						},
						{
							"eventType": "variable",
							"name": "BaseY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 560649557446975
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "snake_head",
									"sid": 898473924731490,
									"parameters": {
										"object": "exit_zone"
									}
								}
							],
							"actions": [],
							"sid": 808352534505973,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 966776993954963,
											"parameters": {
												"variable": "completedSnakes",
												"value": "1"
											}
										},
										{
											"id": "set-text",
											"objectClass": "text_count_snake",
											"sid": 716606690394152,
											"parameters": {
												"text": "completedSnakes & \"/\" & totalSnakes"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "HUD_icon_snake",
											"sid": 537832089746443,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"count_bump\"",
												"property": "scale",
												"end-x": "0.53",
												"end-y": "0.53",
												"time": "0.3",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"callFunction": "CheckWinCondition",
											"sid": 643593082149026
										}
									],
									"sid": 556276490813480
								}
							]
						},
						{
							"functionName": "CheckWinCondition",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 873872460924349,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 858603164458227,
											"parameters": {
												"first-value": "completedSnakes",
												"comparison": 0,
												"second-value": "totalSnakes"
											}
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 285442108846763,
											"parameters": {
												"seconds": "0.7",
												"use-timescale": true
											}
										},
										{
											"id": "open0",
											"objectClass": "Dia_winSceen",
											"sid": 738376977091643,
											"behaviorType": "Dialog",
											"parameters": {
												"target_x0": "0",
												"target_y1": "0",
												"center4": "yes"
											}
										}
									],
									"sid": 734158919688445
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "ondialogopened0",
									"objectClass": "Dia_winSceen",
									"sid": 823880768250822,
									"behaviorType": "Dialog"
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "UI_txt_endgame",
									"sid": 281322820646232,
									"behaviorType": "Sine",
									"parameters": {
										"state": "active"
									}
								},
								{
									"id": "set-active",
									"objectClass": "UI_lose_btn_playon",
									"sid": 840181211796891,
									"behaviorType": "Sine",
									"parameters": {
										"state": "active"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 443610240949261,
									"parameters": {
										"seconds": "0.5",
										"use-timescale": true
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 717416015587783,
									"parameters": {
										"object-to-create": "Particles",
										"layer": "\"win_sceen\"",
										"x": "UI_lose_btn_playon.X",
										"y": "UI_lose_btn_playon.Y",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								}
							],
							"sid": 992833321444873
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-created",
									"objectClass": "confetti",
									"sid": 874929907818539
								}
							],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "confetti",
									"sid": 348251913144912,
									"parameters": {
										"frame-number": "random(Self.AnimationFrameCount)"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 597007322582284,
									"parameters": {
										"seconds": "0.01",
										"use-timescale": true
									}
								},
								{
									"id": "move-to-top",
									"objectClass": "confetti",
									"sid": 677591050616684
								},
								{
									"id": "set-speed",
									"objectClass": "confetti",
									"sid": 764839105210795,
									"behaviorType": "Rotate",
									"parameters": {
										"speed": "choose(-1,1) * random(50,200)"
									}
								}
							],
							"sid": 830022213462370
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "Button_nextLevel",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onclicked3",
											"objectClass": "UI_lose_btn_playon",
											"sid": 408908345118114,
											"behaviorType": "Button"
										},
										{
											"id": "has-tags",
											"objectClass": "UI_lose_btn_playon",
											"sid": 373501599463814,
											"parameters": {
												"tags": "\"btn_nextLevel\""
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 667566920962274,
											"parameters": {
												"variable": "RewardDone",
												"value": "false"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 424324030923617,
											"parameters": {
												"variable": "NextLayout",
												"value": "\"Level\""
											}
										},
										{
											"id": "set-key",
											"objectClass": "DIcSaveGame",
											"sid": 185201616374266,
											"parameters": {
												"key": "\"SAVE_COIN\"",
												"value": "DicSaveGame.Get(\"SAVE_COIN\") + 40"
											}
										},
										{
											"callFunction": "SAVE_GAME",
											"sid": 122537212768774
										},
										{
											"id": "set-enabled",
											"objectClass": "UI_coin_reward",
											"sid": 310153486957259,
											"behaviorType": "Tween",
											"parameters": {
												"mode": "enabled"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "UI_btn_endgamewin",
											"sid": 911774435693886,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "UI_lose_btn_playon",
											"sid": 114162947205999,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "text_coin_reward",
											"sid": 120430660341825,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "coins_effect",
											"sid": 339396359907885,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "UI_coin_reward",
											"sid": 797014155906869,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 169908984051941,
											"parameters": {
												"variable": "CoinCount",
												"value": "12"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 597449864520681,
											"parameters": {
												"variable": "BaseX",
												"value": "UI_btn_endgamewin.X"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 935687375273894,
											"parameters": {
												"variable": "BaseY",
												"value": "UI_btn_endgamewin.Y -20"
											}
										}
									],
									"sid": 839039907085988,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 335991407326050,
													"parameters": {
														"name": "\"i\"",
														"start-index": "0",
														"end-index": "CoinCount - 1"
													}
												}
											],
											"actions": [
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 370221226206935,
													"parameters": {
														"object-to-create": "UI_coin_reward",
														"layer": "\"win_sceen\"",
														"x": "BaseX + random(-60, 60)",
														"y": "BaseY + random(-20, 20)",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "UI_coin_reward",
													"sid": 539829408454794,
													"parameters": {
														"instance-variable": "Delay",
														"value": "loopindex * 0.5"
													}
												}
											],
											"sid": 813862683322795
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-created",
											"objectClass": "UI_coin_reward",
											"sid": 935109626819099
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 634900416435679,
											"parameters": {
												"seconds": "0.4",
												"use-timescale": true
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "UI_coin_reward",
											"sid": 207514537394795,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"pop\"",
												"property": "position",
												"end-x": "Self.X",
												"end-y": "Self.Y - random(80, 140)",
												"time": "0.3",
												"ease": "easeinback",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 160980167245433
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-tweens-finished",
											"objectClass": "UI_coin_reward",
											"sid": 866652335429300,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"pop\""
											}
										}
									],
									"actions": [
										{
											"id": "tween-two-properties",
											"objectClass": "UI_coin_reward",
											"sid": 479795327048186,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"fly_to_ui\"",
												"property": "position",
												"end-x": "UI_coin_topBar.X",
												"end-y": "UI_coin_topBar.Y",
												"time": "0.4",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "move-to-top",
											"objectClass": "UI_btnPlus_topBar",
											"sid": 330132133424896
										}
									],
									"sid": 385604416254260
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-tweens-finished",
											"objectClass": "UI_coin_reward",
											"sid": 183447887864115,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"fly_to_ui\""
											}
										},
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 831613769680494,
											"parameters": {
												"variable": "RewardDone"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 290296159899381,
											"parameters": {
												"variable": "RewardDone",
												"value": "true"
											}
										},
										{
											"id": "destroy",
											"objectClass": "UI_coin_reward",
											"sid": 540569837815191
										},
										{
											"id": "set-text",
											"objectClass": "text_coin",
											"sid": 405779663985770,
											"parameters": {
												"text": "DIcSaveGame.Get(SAVE_COIN)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 326411404776923,
											"parameters": {
												"variable": "CurrentLevel",
												"value": " str( int(CurrentLevel) + 1 )"
											}
										},
										{
											"id": "set-key",
											"objectClass": "DIcSaveGame",
											"sid": 213385144344279,
											"parameters": {
												"key": "\"CurrentLevel\"",
												"value": "CurrentLevel"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 640498153152515,
											"parameters": {
												"seconds": "0.6",
												"use-timescale": true
											}
										},
										{
											"id": "go-to-layout",
											"objectClass": "System",
											"sid": 321489416012669,
											"parameters": {
												"layout": "Loading"
											}
										}
									],
									"sid": 805589213147146
								}
							],
							"sid": 931280641459558
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "Button_x2Coin",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onclicked3",
											"objectClass": "UI_btn_endgamewin",
											"sid": 172602305801391,
											"behaviorType": "Button"
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 816619155158298,
											"parameters": {
												"variable": "RewardDone",
												"value": "false"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 657576560056653,
											"parameters": {
												"variable": "NextLayout",
												"value": "\"Level\""
											}
										},
										{
											"id": "set-key",
											"objectClass": "DIcSaveGame",
											"sid": 429222354911029,
											"parameters": {
												"key": "\"SAVE_COIN\"",
												"value": "DicSaveGame.Get(\"SAVE_COIN\") + 80"
											}
										},
										{
											"callFunction": "SAVE_GAME",
											"sid": 883668633117241
										},
										{
											"id": "set-enabled",
											"objectClass": "UI_coin_reward",
											"sid": 306640602688465,
											"behaviorType": "Tween",
											"parameters": {
												"mode": "enabled"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "UI_btn_endgamewin",
											"sid": 815736457979900,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "UI_lose_btn_playon",
											"sid": 175802745923441,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "text_coin_reward",
											"sid": 108732882541995,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "coins_effect",
											"sid": 905024128965612,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "UI_coin_reward",
											"sid": 487773751506852,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 599655707454606,
											"parameters": {
												"variable": "CoinCount",
												"value": "15"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 331129309316723,
											"parameters": {
												"variable": "BaseX",
												"value": "UI_btn_endgamewin.X"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 354258432543079,
											"parameters": {
												"variable": "BaseY",
												"value": "UI_btn_endgamewin.Y -20"
											}
										}
									],
									"sid": 942562901385465,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 499841141161431,
													"parameters": {
														"name": "\"i\"",
														"start-index": "0",
														"end-index": "CoinCount - 1"
													}
												}
											],
											"actions": [
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 717776668662026,
													"parameters": {
														"object-to-create": "UI_coin_reward",
														"layer": "\"win_sceen\"",
														"x": "BaseX + random(-60, 60)",
														"y": "BaseY + random(-20, 20)",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "UI_coin_reward",
													"sid": 288516392044455,
													"parameters": {
														"instance-variable": "Delay",
														"value": "loopindex * 0.5"
													}
												}
											],
											"sid": 456482745191650
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-created",
											"objectClass": "UI_coin_reward",
											"sid": 436878709154333
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 873643040147417,
											"parameters": {
												"seconds": "0.4",
												"use-timescale": true
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "UI_coin_reward",
											"sid": 111010192038168,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"pop\"",
												"property": "position",
												"end-x": "Self.X",
												"end-y": "Self.Y - random(80, 140)",
												"time": "0.3",
												"ease": "easeinback",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 449385893653069
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-tweens-finished",
											"objectClass": "UI_coin_reward",
											"sid": 579587739082132,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"pop\""
											}
										}
									],
									"actions": [
										{
											"id": "tween-two-properties",
											"objectClass": "UI_coin_reward",
											"sid": 149995062722627,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"fly_to_ui\"",
												"property": "position",
												"end-x": "UI_coin_topBar.X",
												"end-y": "UI_coin_topBar.Y",
												"time": "0.4",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "move-to-top",
											"objectClass": "UI_btnPlus_topBar",
											"sid": 388201956240516
										}
									],
									"sid": 685516043589418
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-tweens-finished",
											"objectClass": "UI_coin_reward",
											"sid": 928887777698707,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"fly_to_ui\""
											}
										},
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 506660022938897,
											"parameters": {
												"variable": "RewardDone"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 349302374830896,
											"parameters": {
												"variable": "RewardDone",
												"value": "true"
											}
										},
										{
											"id": "destroy",
											"objectClass": "UI_coin_reward",
											"sid": 335233854352156
										},
										{
											"id": "set-text",
											"objectClass": "text_coin",
											"sid": 710969375786355,
											"parameters": {
												"text": "DIcSaveGame.Get(SAVE_COIN)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 724794977111654,
											"parameters": {
												"variable": "CurrentLevel",
												"value": " str( int(CurrentLevel) + 1 )"
											}
										},
										{
											"id": "set-key",
											"objectClass": "DIcSaveGame",
											"sid": 477878031585787,
											"parameters": {
												"key": "\"CurrentLevel\"",
												"value": "CurrentLevel"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 808846579075169,
											"parameters": {
												"seconds": "0.6",
												"use-timescale": true
											}
										},
										{
											"id": "go-to-layout",
											"objectClass": "System",
											"sid": 883488978277020,
											"parameters": {
												"layout": "Loading"
											}
										}
									],
									"sid": 318139876903996
								}
							],
							"sid": 903885168822856
						}
					],
					"sid": 199234473461030
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Level_Failed",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onclicked3",
									"objectClass": "HUD_popUp_close",
									"sid": 720356420155104,
									"behaviorType": "Button"
								},
								{
									"id": "has-tags",
									"objectClass": "HUD_popUp_close",
									"sid": 969701377335495,
									"parameters": {
										"tags": "\"fail_sceen\""
									}
								}
							],
							"actions": [
								{
									"id": "close1",
									"objectClass": "Dia_noti_failed",
									"sid": 135994647912746,
									"behaviorType": "Dialog"
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 484365461781949,
									"parameters": {
										"seconds": "0.3",
										"use-timescale": true
									}
								},
								{
									"id": "open0",
									"objectClass": "Dia_noti_restart",
									"sid": 926089856929721,
									"behaviorType": "Dialog",
									"parameters": {
										"target_x0": "0",
										"target_y1": "0",
										"center4": "yes"
									}
								}
							],
							"sid": 502798097576418
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onclicked3",
									"objectClass": "UL_btn_booster",
									"sid": 136876386534423,
									"behaviorType": "Button"
								},
								{
									"id": "has-tags",
									"objectClass": "UL_btn_booster",
									"sid": 937370457327529,
									"parameters": {
										"tags": "\"restart\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "Restart_Level",
									"sid": 610445253674446
								}
							],
							"sid": 701272038182549
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "HUD_heart",
									"sid": 792616587672661,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"heart_opacity\""
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 718694275189562,
									"parameters": {
										"first-value": "Lives",
										"comparison": 0,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "open0",
									"objectClass": "Dia_noti_failed",
									"sid": 387130073093438,
									"behaviorType": "Dialog",
									"parameters": {
										"target_x0": "0",
										"target_y1": "0",
										"center4": "yes"
									}
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 312143208525778,
									"parameters": {
										"layer": "\"fade\"",
										"visibility": "visible"
									}
								}
							],
							"sid": 192554869151941
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onclicked3",
									"objectClass": "UI_lose_btn_playon",
									"sid": 130903787578550,
									"behaviorType": "Button"
								},
								{
									"id": "has-tags",
									"objectClass": "UI_lose_btn_playon",
									"sid": 163572010745020,
									"parameters": {
										"tags": "\"btn_clam300\""
									}
								}
							],
							"actions": [],
							"sid": 409533854183845,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 373763181391394,
											"parameters": {
												"first-value": "DIcSaveGame.Get(SAVE_COIN)",
												"comparison": 5,
												"second-value": "300"
											}
										}
									],
									"actions": [
										{
											"id": "set-key",
											"objectClass": "DIcSaveGame",
											"sid": 160878585438670,
											"parameters": {
												"key": "\"SAVE_COIN\"",
												"value": "DicSaveGame.Get(\"SAVE_COIN\") - 300"
											}
										},
										{
											"callFunction": "SAVE_GAME",
											"sid": 707658257000844
										},
										{
											"id": "set-text",
											"objectClass": "text_coin",
											"sid": 722387702490602,
											"parameters": {
												"text": "DIcSaveGame.Get(SAVE_COIN)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 961311124504406,
											"parameters": {
												"variable": "Lives",
												"value": "3"
											}
										},
										{
											"callFunction": "RefreshHearts",
											"sid": 426700100040325
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 779866818851721,
											"parameters": {
												"seconds": "0.3",
												"use-timescale": true
											}
										},
										{
											"id": "close1",
											"objectClass": "Dia_noti_failed",
											"sid": 394415285635426,
											"behaviorType": "Dialog"
										},
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 601512271453533,
											"parameters": {
												"layer": "\"fade\"",
												"visibility": "invisible"
											}
										}
									],
									"sid": 701650915536704
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onclicked3",
									"objectClass": "UL_btn_booster",
									"sid": 301246194365820,
									"behaviorType": "Button"
								},
								{
									"id": "has-tags",
									"objectClass": "UL_btn_booster",
									"sid": 244197690198668,
									"parameters": {
										"tags": "\"free_level_fail\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 336716991002241,
									"parameters": {
										"variable": "Lives",
										"value": "1"
									}
								},
								{
									"callFunction": "RefreshHearts",
									"sid": 229926492788117
								},
								{
									"id": "close1",
									"objectClass": "Dia_noti_failed",
									"sid": 511482931141154,
									"behaviorType": "Dialog"
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 795706672893031,
									"parameters": {
										"layer": "\"fade\"",
										"visibility": "invisible"
									}
								}
							],
							"sid": 411260664087381
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "ondialogopened0",
									"objectClass": "Dia_noti_failed",
									"sid": 623812157234222,
									"behaviorType": "Dialog"
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 413750349389531,
									"parameters": {
										"group-name": "\"Time_Level\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 686444234559865,
									"parameters": {
										"variable": "IsTimerRunning",
										"value": "0"
									}
								}
							],
							"sid": 200017467042630
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "ondialogclosed1",
									"objectClass": "Dia_noti_failed",
									"sid": 578286056904894,
									"behaviorType": "Dialog"
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 134778876276667,
									"parameters": {
										"group-name": "\"Time_Level\"",
										"state": "activated"
									}
								}
							],
							"sid": 170240965609596
						}
					],
					"sid": 546206241501007
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Button",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "group",
							"disabled": false,
							"title": "Pause",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onclicked3",
											"objectClass": "HUD_pause",
											"sid": 309689392239606,
											"behaviorType": "Button"
										}
									],
									"actions": [
										{
											"id": "open0",
											"objectClass": "Dia_pause",
											"sid": 130095243179131,
											"behaviorType": "Dialog",
											"parameters": {
												"target_x0": "0",
												"target_y1": "0",
												"center4": "yes"
											}
										},
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 807340183417448,
											"parameters": {
												"layer": "\"fade\"",
												"visibility": "visible"
											}
										}
									],
									"sid": 478987287351435
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onclicked3",
											"objectClass": "HUD_popUp_close",
											"sid": 842123407458117,
											"behaviorType": "Button"
										},
										{
											"id": "has-tags",
											"objectClass": "HUD_popUp_close",
											"sid": 384758065262906,
											"parameters": {
												"tags": "\"pause\""
											}
										}
									],
									"actions": [
										{
											"id": "close1",
											"objectClass": "Dia_pause",
											"sid": 300606577520992,
											"behaviorType": "Dialog"
										},
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 967692682721937,
											"parameters": {
												"layer": "\"fade\"",
												"visibility": "invisible"
											}
										}
									],
									"sid": 666344886867077
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onclicked3",
											"objectClass": "UI_btn_resume",
											"sid": 782973152573394,
											"behaviorType": "Button"
										}
									],
									"actions": [
										{
											"id": "close1",
											"objectClass": "Dia_pause",
											"sid": 207499035955488,
											"behaviorType": "Dialog"
										},
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 716359167775402,
											"parameters": {
												"layer": "\"fade\"",
												"visibility": "invisible"
											}
										}
									],
									"sid": 916569146016424
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "ondialogopened0",
											"objectClass": "Dia_pause",
											"sid": 521177254748218,
											"behaviorType": "Dialog"
										}
									],
									"actions": [
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 516834921318264,
											"parameters": {
												"group-name": "\"Time_Level\"",
												"state": "deactivated"
											}
										}
									],
									"sid": 229530007362113
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "ondialogclosed1",
											"objectClass": "Dia_pause",
											"sid": 395869309912860,
											"behaviorType": "Dialog"
										}
									],
									"actions": [
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 381952736296427,
											"parameters": {
												"group-name": "\"Time_Level\"",
												"state": "activated"
											}
										}
									],
									"sid": 226335831928668
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onclicked3",
											"objectClass": "HUD_popUp_pause",
											"sid": 814558810565842,
											"behaviorType": "Button"
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 163486604034762,
											"parameters": {
												"variable": "NextLayout",
												"value": "\"Home\""
											}
										},
										{
											"id": "go-to-layout",
											"objectClass": "System",
											"sid": 262787174633172,
											"parameters": {
												"layout": "Loading"
											}
										}
									],
									"sid": 768272737222179
								}
							],
							"sid": 443635190762930
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "Retry",
							"description": "",
							"isActiveOnStart": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onclicked3",
											"objectClass": "HUD_retry",
											"sid": 991422096680418,
											"behaviorType": "Button"
										}
									],
									"actions": [
										{
											"callFunction": "Restart_Level",
											"sid": 615058746757614
										}
									],
									"sid": 724891631366878
								}
							],
							"sid": 168302296147309
						}
					],
					"sid": 221043431180358
				},
				{
					"functionName": "Restart_Level",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 846727950087798,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 564334090732866,
									"parameters": {
										"layout": "Loading"
									}
								}
							],
							"sid": 410127597142181
						}
					]
				},
				{
					"functionName": "LoseLife",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 999711436263177,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 903559600790676,
									"parameters": {
										"variable": "Lives",
										"value": "1"
									}
								}
							],
							"sid": 875002789680482,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 373684195163783,
											"parameters": {
												"object": "HUD_heart"
											}
										}
									],
									"actions": [],
									"sid": 558052829608062,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 167577159255961,
													"parameters": {
														"first-value": "HUD_heart.Index",
														"comparison": 0,
														"second-value": "Lives +1"
													}
												}
											],
											"actions": [
												{
													"id": "tween-two-properties",
													"objectClass": "HUD_heart",
													"sid": 186570663813640,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"heart_scale\"",
														"property": "scale",
														"end-x": "0.25",
														"end-y": "0.25",
														"time": "0.2",
														"ease": "default",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "HUD_heart",
													"sid": 983798940226687,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"heart_opacity\"",
														"property": "offsetOpacity",
														"end-value": "0",
														"time": "0.3",
														"ease": "default",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 366119053755144
										}
									]
								}
							]
						}
					]
				},
				{
					"functionName": "RefreshHearts",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 605447814184387,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 584935668512240,
									"parameters": {
										"object": "HUD_heart"
									}
								}
							],
							"actions": [],
							"sid": 512769849406357,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 837955656900789,
											"parameters": {
												"first-value": "HUD_heart.Index",
												"comparison": 3,
												"second-value": "Lives"
											}
										}
									],
									"actions": [
										{
											"id": "set-opacity",
											"objectClass": "HUD_heart",
											"sid": 434174104666704,
											"parameters": {
												"opacity": "100"
											}
										},
										{
											"id": "set-scale",
											"objectClass": "HUD_heart",
											"sid": 433334576999007,
											"parameters": {
												"scale": "0.1"
											}
										}
									],
									"sid": 222042092681681
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 909817149879304,
											"parameters": {
												"first-value": "HUD_heart.Index",
												"comparison": 0,
												"second-value": "1"
											}
										},
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 446015418124842,
											"parameters": {
												"first-value": "Lives",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-opacity",
											"objectClass": "HUD_heart",
											"sid": 308541616920409,
											"parameters": {
												"opacity": "100"
											}
										}
									],
									"sid": 975608211193674
								}
							]
						}
					]
				}
			],
			"sid": 403058626511012
		}
	],
	"sid": 255832887203852
}